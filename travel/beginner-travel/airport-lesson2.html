<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Travel English Lesson 2 - Learn essential vocabulary and phrases for communicating with flight attendants on an airplane. Beginner ESL lesson.">
  <title>On the Airplane - Travel English | English in Doses</title>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&family=Source+Code+Pro&display=swap" rel="stylesheet">
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- Styles -->
  
<link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/levels.css">
  <link rel="stylesheet" href="../../css/activities.css">
  <link rel="stylesheet" href="../../css/vocab-match.css">
  <link rel="stylesheet" href="../../css/flash-cards.css">
</head>

<body class="beginner-section">
  <!-- Skip link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to content</a>

  <!-- Theme toggle button -->
  <div class="theme-toggle-container">
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
      <span class="light-icon">‚òÄÔ∏è</span>
      <span class="dark-icon">üåô</span>
    </button>
  </div>

  <!-- Navigation -->
  <nav class="main-navigation">
    <a href="../../home.html" class="site-logo">
      <img src="../../images/my-logo.svg" alt="English in Doses" width="150" height="auto">
    </a>
    <button class="nav-toggle" aria-label="Toggle navigation">‚ò∞</button>
  <div class="nav-links">
      <a href="../../home.html" class="nav-link">Home</a>
    <a href="../../about.html" class="nav-link">About Us</a>
    <a href="../../home.html#level-test" class="nav-link">Find Your Level</a>
    <a href="../../beginner-landing.html" class="nav-link">Beginner</a>
    <a href="../../intermediate-landing.html" class="nav-link">Intermediate</a>
    <a href="../../advanced-landing.html" class="nav-link">Advanced</a>
    <a href="../../travel/beginner-travel/travel-english.html" class="nav-link">Travel English</a>
    <a href="../../my-progress.html" class="nav-link">My Progress</a>
    <a href="../../booking-page.html" class="nav-link">Book a Lesson</a>
    </div>
    <div class="beginner-nav-indicator"></div>
  </nav>

  <div class="container">
    <!-- Breadcrumbs -->
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <span class="breadcrumb-item"><a href="../../home.html">Home</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item"><a href="travel-english.html">Travel English</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item"><a href="travel-english.html#unit-1">Unit 1: Airport</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item">Lesson 2: On the Airplane</span>
    </nav>

    <main id="main-content">
      <h1>Lesson 2: On the Airplane</h1>
      <p class="subtitle">Communicating with Flight Attendants</p>

      <!-- ======================================== -->
      <!-- LESSON GOAL -->
      <!-- ======================================== -->
      <section class="intro-section">
        <h2><i class="fa-solid fa-bullseye icon-warning"></i> Lesson Goal</h2>
        <p><strong>Request services during a flight, understand basic announcements, and handle your in-flight needs.</strong></p>
        
        <h3>What you will learn:</h3>
        <ul>
          <li>Vocabulary for things on an airplane.</li>
          <li>How to ask questions with "What...?" and "Where...?".</li>
          <li>How to ask for things politely using "Can I have...?".</li>
        </ul>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 1: VOCABULARY -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2><i class="fa-solid fa-book icon-primary"></i> Vocabulary</h2>
        <p>Learn these words for things on an airplane. Drag each word to the correct picture.</p>
        
        <div id="vocab-match" class="vocab-match-container">
          
          <div class="vocab-section">
            <!-- Carousel Navigation -->
            <div class="vocab-carousel-nav">
              <button class="vocab-carousel-btn vocab-carousel-prev" aria-label="Previous page">‚Äπ</button>
              <span class="vocab-carousel-indicator">1 / 4</span>
              <button class="vocab-carousel-btn vocab-carousel-next" aria-label="Next page">‚Ä∫</button>
            </div>
            
            <!-- Carousel Container -->
            <div class="vocab-carousel">
              
              <!-- Page 1: Seating Area -->
              <div class="vocab-carousel-page active">
                <div class="vocab-images-grid" style="overflow: visible; max-height: none;">
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: still water - bottle of still/flat water -->
                      <img src="../../images/travel-beginner/unit1/lesson2/still-water.png" alt="still water" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="still water"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: sparkling water - bottle of sparkling/fizzy water -->
                      <img src="../../images/travel-beginner/unit1/lesson2/sparkling-water.png" alt="sparkling water" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="sparkling water"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: middle seat - airplane seat between aisle and window -->
                      <img src="../../images/travel-beginner/unit1/lesson2/middle-seat.png" alt="middle seat" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="middle seat"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: overhead bin - compartment above seats for luggage -->
                      <img src="../../images/travel-beginner/unit1/lesson2/overhead-bin.png" alt="overhead bin" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="overhead bin"></div>
                  </div>
                </div>
              </div>
              
              <!-- Page 2: Safety & Comfort -->
              <div class="vocab-carousel-page">
                <div class="vocab-images-grid" style="overflow: visible; max-height: none;">
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: seatbelt - airplane seatbelt buckled -->
                      <img src="../../images/travel-beginner/unit1/lesson2/seatbelt.png" alt="seatbelt" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="seatbelt"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: tray table - folding table on back of seat -->
                      <img src="../../images/travel-beginner/unit1/lesson2/tray-table.png" alt="tray table" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="tray table"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: emergency exit - emergency exit door on airplane -->
                      <img src="../../images/travel-beginner/unit1/lesson2/emergency-exit.png" alt="emergency exit" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="emergency exit"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: flight attendant - cabin crew member -->
                      <img src="../../images/travel-beginner/unit1/lesson2/flight-attendant.png" alt="flight attendant" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="flight attendant"></div>
                  </div>
                </div>
              </div>
              
              <!-- Page 3: Comfort & Food -->
              <div class="vocab-carousel-page">
                <div class="vocab-images-grid" style="overflow: visible; max-height: none;">
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: blanket - airplane blanket -->
                      <img src="../../images/travel-beginner/unit1/lesson2/blanket.png" alt="blanket" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="blanket"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: pillow - small airplane pillow -->
                      <img src="../../images/travel-beginner/unit1/lesson2/pillow.png" alt="pillow" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="pillow"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: meal - airplane meal tray -->
                      <img src="../../images/travel-beginner/unit1/lesson2/meal.png" alt="meal" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="meal"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: drink - beverage cup on tray -->
                      <img src="../../images/travel-beginner/unit1/lesson2/drink.png" alt="drink" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="drink"></div>
                  </div>
                </div>
              </div>
              
              <!-- Page 4: Flight Events -->
              <div class="vocab-carousel-page">
                <div class="vocab-images-grid" style="overflow: visible; max-height: none;">
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: snack - small airplane snack packet -->
                      <img src="../../images/travel-beginner/unit1/lesson2/snack.png" alt="snack" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="snack"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: turbulence - seatbelt sign lit up or shaky icon -->
                      <img src="../../images/travel-beginner/unit1/lesson2/turbulence.png" alt="turbulence" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="turbulence"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: takeoff - airplane taking off from runway -->
                      <img src="../../images/travel-beginner/unit1/lesson2/takeoff.png" alt="takeoff" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="takeoff"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <!-- IMAGE: landing - airplane landing on runway -->
                      <img src="../../images/travel-beginner/unit1/lesson2/landing.png" alt="landing" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="landing"></div>
                  </div>
                </div>
              </div>
              
            </div>
            
            <!-- Page Dots -->
            <div class="vocab-carousel-dots">
              <span class="vocab-carousel-dot active" data-page="0"></span>
              <span class="vocab-carousel-dot" data-page="1"></span>
              <span class="vocab-carousel-dot" data-page="2"></span>
              <span class="vocab-carousel-dot" data-page="3"></span>
            </div>
            
            <!-- Sticky Word Bank (jumbled order) -->
            <div class="vocab-words-wrapper">
              <p class="vocab-words-label"><i class="fa-solid fa-hand-point-down icon-primary"></i> Drag words from here</p>
              <div class="vocab-words-container">
                <div class="vocab-word-item" data-page="0">overhead bin</div>
                <div class="vocab-word-item" data-page="0">sparkling water</div>
                <div class="vocab-word-item" data-page="0">still water</div>
                <div class="vocab-word-item" data-page="0">middle seat</div>
                <div class="vocab-word-item" data-page="1">emergency exit</div>
                <div class="vocab-word-item" data-page="1">seatbelt</div>
                <div class="vocab-word-item" data-page="1">flight attendant</div>
                <div class="vocab-word-item" data-page="1">tray table</div>
                <div class="vocab-word-item" data-page="2">drink</div>
                <div class="vocab-word-item" data-page="2">blanket</div>
                <div class="vocab-word-item" data-page="2">meal</div>
                <div class="vocab-word-item" data-page="2">pillow</div>
                <div class="vocab-word-item" data-page="3">landing</div>
                <div class="vocab-word-item" data-page="3">snack</div>
                <div class="vocab-word-item" data-page="3">takeoff</div>
                <div class="vocab-word-item" data-page="3">turbulence</div>
              </div>
            </div>
          </div>
          
          <!-- Controls -->
          <div class="vocab-controls">
            <button class="vocab-check-btn">Check Answers</button>
            <button class="vocab-reset-btn">Try Again</button>
          </div>
          
          <div class="vocab-score">Your score: <span>0</span>/16</div>
          <div class="vocab-feedback"></div>
          
        </div>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 2: GRAMMAR - Questions with What & Where -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2><i class="fa-solid fa-book-open icon-primary"></i> Grammar: Questions with "What" and "Where"</h2>
        <p>Let's learn how to ask questions with <strong>what</strong> and <strong>where</strong>.</p>
        
        <h3>Asking about time <i class="fa-solid fa-clock icon-secondary icon-sm"></i></h3>
        
        <p><strong>Form:</strong> what time + is/are + noun?</p>
        <div class="example">
          <ol>
          <li><span class="example">What time is it?</span> <i class="fa-solid fa-clock icon-secondary"></i></li>
          <li><span class="example">What time is boarding?</span> <i class="fa-solid fa-ticket icon-primary"></i></li>
          <li><span class="example">What time are meals served?</span> <i class="fa-solid fa-utensils icon-secondary"></i></li>
          </ol>
          </div>
        
          <p><strong>Form:</strong> what time + do/does + subject + verb?</p>
  <div class="example">
    <ol>
      <li><span class="example">What time do we land?</span> <i class="fa-solid fa-plane-arrival icon-primary"></i></li>
      <li><span class="example">What time does the flight leave?</span> <i class="fa-solid fa-plane-departure icon-primary"></i></li>
      <li><span class="example">What time do they serve breakfast?</span> <i class="fa-solid fa-mug-hot icon-secondary"></i></li>
    </ol>
  </div>

  <h3>Asking about things</h3>

  <p><strong>Form:</strong> what + is/are + noun?</p>
  <div class="example">
    <ol>
      <li><span class="example">What is the gate number?</span> <i class="fa-solid fa-door-open icon-primary"></i></li>
      <li><span class="example">What is my seat number?</span> <i class="fa-solid fa-chair icon-primary"></i></li>
      <li><span class="example">What are the drink options?</span> <i class="fa-solid fa-glass-water icon-light-blue"></i></li>
    </ol>
  </div>

  <h3>Asking about location <i class="fa-solid fa-location-dot icon-warning icon-sm"></i></h3>

  <p><strong>Form:</strong> where + is/are + noun?</p>
  <div class="example">
    <ol>
      <li><span class="example">Where is the emergency exit?</span> <i class="fa-solid fa-triangle-exclamation icon-warning"></i></li>
      <li><span class="example">Where is my seat?</span> <i class="fa-solid fa-chair icon-primary"></i></li>
      <li><span class="example">Where are the bathrooms?</span> <i class="fa-solid fa-restroom icon-primary"></i></li>
    </ol>
  </div>

  <p><strong>Form:</strong> where + can + subject + verb?</p>
  <div class="example">
    <ol>
      <li><span class="example">Where can I put my bag?</span> <i class="fa-solid fa-bag-shopping icon-secondary"></i></li>
      <li><span class="example">Where can I get a blanket?</span> <i class="fa-solid fa-blanket icon-primary"></i></li>
      <li><span class="example">Where can we find the gate?</span> <i class="fa-solid fa-door-open icon-primary"></i></li>
    </ol>
  </div>
        
        <div class="important-note">
          <p><strong><i class="fa-solid fa-lightbulb icon-secondary"></i> Remember:</strong> Use <strong>is</strong> for one thing (the exit, my seat). Use <strong>are</strong> for more than one thing (the bathrooms, the drink options).</p>
        </div>
        
        <h3>Quick Review</h3>
        <p>Click each card to check your answer.</p>
        
        <div id="flashcards" class="flashcard-container">
          
          <div class="flashcard-intro">
            <p class="hint"><i class="fa-solid fa-hand-point-up icon-primary"></i> Click a card to see the answer</p>
          </div>
          
          <div class="flashcard-grid">
            
            <!-- Card 1 -->
            <div class="flashcard-wrapper">
              <div class="flashcard" tabindex="0">
                <div class="flashcard-front">
                  <span class="flashcard-number">1</span>
                  <span class="flashcard-label">Complete the question</span>
                  <span class="flashcard-phrase">___ are the bathrooms?</span>
                  <span class="flashcard-hint"><i class="fa-solid fa-rotate rotate-icon icon-primary"></i> Click to see answer</span>
                </div>
                <div class="flashcard-back">
                  <span class="flashcard-number">1</span>
                  <span class="flashcard-label">Answer</span>
                  <span class="flashcard-example"><strong>Where</strong> are the bathrooms?</span>
                  <span class="flashcard-usage">Asking about location (plural).</span>
                </div>
              </div>
            </div>
            
            <!-- Card 2 -->
            <div class="flashcard-wrapper">
              <div class="flashcard" tabindex="0">
                <div class="flashcard-front">
                  <span class="flashcard-number">2</span>
                  <span class="flashcard-label">Complete the question</span>
                  <span class="flashcard-phrase">___ time is boarding?</span>
                  <span class="flashcard-hint"><i class="fa-solid fa-rotate rotate-icon icon-primary"></i> Click to see answer</span>
                </div>
                <div class="flashcard-back">
                  <span class="flashcard-number">2</span>
                  <span class="flashcard-label">Answer</span>
                  <span class="flashcard-example"><strong>What</strong> time is boarding?</span>
                  <span class="flashcard-usage">Asking about time.</span>
                </div>
              </div>
            </div>
            
            <!-- Card 3 -->
            <div class="flashcard-wrapper">
              <div class="flashcard" tabindex="0">
                <div class="flashcard-front">
                  <span class="flashcard-number">3</span>
                  <span class="flashcard-label">Complete the question</span>
                  <span class="flashcard-phrase">___ is the gate?</span>
                  <span class="flashcard-hint"><i class="fa-solid fa-rotate rotate-icon icon-primary"></i> Click to see answer</span>
                </div>
                <div class="flashcard-back">
                  <span class="flashcard-number">3</span>
                  <span class="flashcard-label">Answer</span>
                  <span class="flashcard-example"><strong>Where</strong> is the gate?</span>
                  <span class="flashcard-usage">Asking about location (singular).</span>
                </div>
              </div>
            </div>
            
            <!-- Card 4 -->
            <div class="flashcard-wrapper">
              <div class="flashcard" tabindex="0">
                <div class="flashcard-front">
                  <span class="flashcard-number">4</span>
                  <span class="flashcard-label">Complete the question</span>
                  <span class="flashcard-phrase">___ time do we land?</span>
                  <span class="flashcard-hint"><i class="fa-solid fa-rotate rotate-icon icon-primary"></i> Click to see answer</span>
                </div>
                <div class="flashcard-back">
                  <span class="flashcard-number">4</span>
                  <span class="flashcard-label">Answer</span>
                  <span class="flashcard-example"><strong>What</strong> time do we land?</span>
                  <span class="flashcard-usage">Asking about time.</span>
                </div>
              </div>
            </div>
            
          </div>
          
          <div class="flashcard-controls">
            <button class="flip-all-btn"><i class="fa-solid fa-rotate icon-primary"></i> Show All Answers</button>
          </div>
          
        </div>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 3: PRACTICE ACTIVITIES -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2><i class="fa-solid fa-pencil icon-primary"></i> Practice Activities</h2>
        <p>Practise what you have learned with these activities.</p>

        <!-- Activity Navigation -->
        <div id="activity-nav" class="activity-nav">
          <button data-activity="gap-fill-airplane" class="activity-nav-btn active">Complete Conversations</button>
          <button data-activity="mcq" class="activity-nav-btn">Vocabulary Quiz</button>
          <button data-activity="drag-drop-airplane" class="activity-nav-btn">Sentence Order</button>
        </div>

        <!-- ======================================== -->
        <!-- ACTIVITY 1: GAP FILL - Conversations -->
        <!-- ======================================== -->
        <div id="gap-fill-airplane" class="activity-container active">
          <h3>‚úàÔ∏è On the Airplane</h3>
          <p>Complete this conversation. Use the words from the box.</p>
          
          <!-- Gap fill content will be generated by JavaScript -->
          
          <div class="control-buttons">
            <button class="nav-button" id="gap-fill-prev" style="visibility:hidden;">‚Üê Previous</button>
            <button id="gap-fill-airplane-submit" class="submit-btn">Check Answers</button>
            <button id="gap-fill-airplane-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="gap-fill-next">Next ‚Üí</button>
          </div>
          <div class="score-display" id="gap-fill-airplane-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        </div>

        <!-- ======================================== -->
        <!-- ACTIVITY 2: MCQ - Vocabulary Quiz -->
        <!-- ======================================== -->
        <div id="mcq" class="activity-container">
          <h3>üéØ Vocabulary Quiz</h3>
          <p>Choose the correct word for each sentence.</p>
          
          <!-- MCQ content will be generated by JavaScript -->
          
          <div class="control-buttons">
            <button class="nav-button" id="mcq-prev">‚Üê Previous</button>
            <button id="mcq-submit" class="submit-btn">Check Answers</button>
            <button id="mcq-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="mcq-next">Next ‚Üí</button>
          </div>
          <div class="score-display" id="mcq-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        </div>

        <!-- ======================================== -->
        <!-- ACTIVITY 3: DRAG DROP - Sentence Order -->
        <!-- ======================================== -->
        <div id="drag-drop-airplane" class="activity-container">
          <h3>üìù Put the Words in Order</h3>
          <p>Put the words in the correct order to make sentences you might say on an airplane.</p>
          
          <!-- Drag drop content will be generated by JavaScript -->
          
          <div class="control-buttons">
            <button class="nav-button" id="drag-drop-prev">‚Üê Previous</button>
            <button id="drag-drop-airplane-submit" class="submit-btn">Check Answers</button>
            <button id="drag-drop-airplane-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="drag-drop-next" style="visibility:hidden;">Next ‚Üí</button>
          </div>
          <div class="score-display" id="drag-drop-airplane-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        </div>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 4: PRODUCTION - ROLE PLAY -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2><i class="fa-solid fa-users icon-primary"></i> Speaking Practice</h2>
        <p>Practise these conversations with your teacher or a partner.</p>
        
        <h3>Conversation 1: Asking for Comfort Items</h3>
        <div class="example">
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> Excuse me.</p>
          <p><i class="fa-solid fa-user-tie icon-secondary icon-spacing"></i><strong>Flight Attendant:</strong> Yes, how can I help you?</p>
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> Can I have a blanket, please? It's cold.</p>
          <p><i class="fa-solid fa-user-tie icon-secondary icon-spacing"></i><strong>Flight Attendant:</strong> Of course. Here you are.</p>
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> Thank you. And can I have some water, please?</p>
          <p><i class="fa-solid fa-user-tie icon-secondary icon-spacing"></i><strong>Flight Attendant:</strong> Sure. Would you like still or sparkling?</p>
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> Still, please.</p>
        </div>
        
        <h3>Conversation 2: Asking About the Flight</h3>
        <div class="example">
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> Excuse me, what time do we arrive?</p>
          <p><i class="fa-solid fa-user-tie icon-secondary icon-spacing"></i><strong>Flight Attendant:</strong> We arrive at 3:30 local time.</p>
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> And what time is the meal?</p>
          <p><i class="fa-solid fa-user-tie icon-secondary icon-spacing"></i><strong>Flight Attendant:</strong> We serve lunch in about one hour.</p>
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> Great, thank you.</p>
        </div>
        
        <h3>Conversation 3: Finding Things on the Plane</h3>
        <div class="example">
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> Excuse me, where is the emergency exit, please?</p>
          <p><i class="fa-solid fa-user-tie icon-secondary icon-spacing"></i><strong>Flight Attendant:</strong> It's at the back of the plane, behind row 25.</p>
          <p><i class="fa-solid fa-user icon-primary icon-spacing"></i><strong>Passenger:</strong> Thank you. And where can I put my bag?</p>
          <p><i class="fa-solid fa-user-tie icon-secondary icon-spacing"></i><strong>Flight Attendant:</strong> In the overhead bin, or under the seat in front of you.</p>
        </div>
        
        <h3>Role Play Scenarios</h3>
        <p>Try these situations with your teacher or a partner.</p>
        
        <table class="responsive-table">
          <thead>
            <tr>
              <th>Scenario</th>
              <th>Student A (Passenger)</th>
              <th>Student B (Flight Attendant)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>1. Feeling Cold</strong></td>
              <td>You are cold. Ask for a blanket and a hot drink.</td>
              <td>Give the passenger a blanket. Offer tea or coffee.</td>
            </tr>
            <tr>
              <td><strong>2. Meal Time</strong></td>
              <td>You want to know about the meal. Ask what time lunch is and what the options are.</td>
              <td>Lunch is in 30 minutes. Options are chicken or pasta.</td>
            </tr>
            <tr>
              <td><strong>3. Turbulence</strong></td>
              <td>The plane is shaking. Ask if everything is okay and when the turbulence will stop.</td>
              <td>Explain that there is some turbulence. Ask the passenger to fasten their seatbelt.</td>
            </tr>
          </tbody>
        </table>
        
        <div class="important-note">
          <p><strong><i class="fa-solid fa-lightbulb icon-secondary"></i> Remember:</strong> Use <strong>"Can I have...?"</strong> for requests, <strong>"What time...?"</strong> for time questions, <strong>"Where is...?"</strong> for location, and <strong>"Excuse me"</strong> before asking for help.</p>
        </div>
      </section>

    </main>
  </div>
  
  <!-- Bottom Navigation -->
  <nav class="bottom-navigation">
    <a href="airport-lesson1.html" class="nav-button previous">‚Üê Previous: Check-in & Security</a>
    <div class="center-buttons">
      <button class="nav-button print-button" onclick="window.print()">Print This Page</button>
    </div>
    <a href="airport-lesson3.html" class="nav-button next">Next: Immigration & Customs ‚Üí</a>
  </nav>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="../../home.html">Home</a></li>
          <li><a href="travel-english.html">Travel English</a></li>
          <li><a href="../../my-progress.html">My Progress</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Travel Units</h3>
        <ul>
          <li><a href="unit1-airport.html">Unit 1: Airport</a></li>
          <li><a href="unit2-hotel.html">Unit 2: Hotel</a></li>
          <li><a href="unit3-transport.html">Unit 3: Transport</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Connect</h3>
        <ul>
          <li><a href="../../about.html">About</a></li>
          <li><a href="../../contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>¬© 2025 English in Doses | All rights reserved | <a href="../../license.html">Licensing Information</a></p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="../../js/core.js"></script>
  <script src="../../js/vocab-match.js"></script>
  <script src="../../js/flash-cards.js"></script>
  <script src="../../js/mcq.js"></script>
  <script src="../../js/gap-fill.js"></script>
  <script src="../../js/drag-drop.js"></script>
  <script src="../../js/activity-nav.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      
      // ============================================
      // QUESTION SET TRACKING (Sequential, not random)
      // ============================================
      let gapFillSetIndex = 0;
      let mcqSetIndex = 0;
      let dragDropSetIndex = 0;
      
      // ============================================
      // GAP-FILL QUESTION POOLS (4 sets) - WITH WORD BANK
      // ============================================
      const gapFillPools = [
        // Set 1: Asking for a blanket
        {
          wordBank: ['blanket', 'water', 'time', 'Where'],
          conversation: [
            { speaker: 'Passenger', text: 'Excuse me.' },
            { speaker: 'Flight Attendant', text: 'Yes, how can I help you?' },
            { speaker: 'Passenger', text: 'Can I have a ___, please?', gap: true, answer: 'blanket' },
            { speaker: 'Flight Attendant', text: 'Of course. Here you are.' },
            { speaker: 'Passenger', text: 'Thank you. And can I have some ___, please?', gap: true, answer: 'water' },
            { speaker: 'Flight Attendant', text: 'Sure. Would you like still or sparkling?' },
            { speaker: 'Passenger', text: 'Still, please.' },
            { speaker: 'Passenger', text: 'What ___ do we arrive?', gap: true, answer: 'time' },
            { speaker: 'Flight Attendant', text: 'We arrive at 3:30 local time.' },
            { speaker: 'Passenger', text: '___ is the emergency exit?', gap: true, answer: 'Where' },
            { speaker: 'Flight Attendant', text: 'It is at the back of the plane.' }
          ]
        },
        // Set 2: Asking for pillow and meal
        {
          wordBank: ['pillow', 'meal', 'blanket', 'overhead'],
          conversation: [
            { speaker: 'Passenger', text: 'Excuse me.' },
            { speaker: 'Flight Attendant', text: 'How can I help?' },
            { speaker: 'Passenger', text: 'Can I have a ___, please? I want to sleep.', gap: true, answer: 'pillow' },
            { speaker: 'Flight Attendant', text: 'Here you are.' },
            { speaker: 'Passenger', text: 'Thank you. What time is the ___?', gap: true, answer: 'meal' },
            { speaker: 'Flight Attendant', text: 'We serve lunch in about one hour.' },
            { speaker: 'Passenger', text: 'Great. And can I have a ___, please? It is cold.', gap: true, answer: 'blanket' },
            { speaker: 'Flight Attendant', text: 'Of course.' },
            { speaker: 'Passenger', text: 'Where can I put my bag?', gap: false },
            { speaker: 'Flight Attendant', text: 'In the ___ bin above you.', gap: true, answer: 'overhead' }
          ]
        },
        // Set 3: During turbulence
        {
          wordBank: ['turbulence', 'drinks', 'time', 'exit'],
          conversation: [
            { speaker: 'Captain', text: 'Ladies and gentlemen, please fasten your seatbelts. We are experiencing some turbulence.' },
            { speaker: 'Passenger', text: 'Excuse me, is everything okay?' },
            { speaker: 'Flight Attendant', text: 'Yes, it is just some ___. Please stay in your seat.', gap: true, answer: 'turbulence' },
            { speaker: 'Passenger', text: 'Can I have some water, please?' },
            { speaker: 'Flight Attendant', text: 'I am sorry, we cannot serve ___ right now. Please wait until the seatbelt sign is off.', gap: true, answer: 'drinks' },
            { speaker: 'Passenger', text: 'Okay. What ___ do we land?', gap: true, answer: 'time' },
            { speaker: 'Flight Attendant', text: 'We land at 5:15.' },
            { speaker: 'Passenger', text: 'Thank you. And where is the nearest emergency ___?', gap: true, answer: 'exit' },
            { speaker: 'Flight Attendant', text: 'It is two rows behind you.' }
          ]
        },
        // Set 4: Asking for pillow and snack
        {
          wordBank: ['pillow', 'snack', 'time', 'sparkling'],
          conversation: [
            { speaker: 'Passenger', text: 'Excuse me.' },
            { speaker: 'Flight Attendant', text: 'Yes?' },
            { speaker: 'Passenger', text: 'Can I have a ___, please? I want to sleep.', gap: true, answer: 'pillow' },
            { speaker: 'Flight Attendant', text: 'Here you are.' },
            { speaker: 'Passenger', text: 'Thank you. And can I have a ___? I am hungry.', gap: true, answer: 'snack' },
            { speaker: 'Flight Attendant', text: 'Of course. Would you like cookies or nuts?' },
            { speaker: 'Passenger', text: 'Cookies, please. What ___ is the landing?', gap: true, answer: 'time' },
            { speaker: 'Flight Attendant', text: 'We land at 8:45.' },
            { speaker: 'Passenger', text: 'And can I have some water, please?', gap: false },
            { speaker: 'Flight Attendant', text: 'Sure. Would you like still or ___?', gap: true, answer: 'sparkling' }
          ]
        }
      ];
      
      // ============================================
      // MCQ QUESTION POOLS (4 sets of 5 questions) - WITH FEEDBACK
      // ============================================
      const mcqPools = [
        // Set 1
        [
          {
            question: 'You are cold on the plane. You ask for a ___.',
            options: ['pillow', 'blanket', 'snack'],
            correctIndex: 1,
            correctFeedback: 'A blanket keeps you warm when you are cold.',
            incorrectFeedback: 'When you are cold, you need a blanket to keep warm.'
          },
          {
            question: 'You put your bag in the ___ bin.',
            options: ['tray', 'seatbelt', 'overhead'],
            correctIndex: 2,
            correctFeedback: 'The overhead bin is above your seat, for storing bags.',
            incorrectFeedback: 'The overhead bin is the compartment above your seat for bags.'
          },
          {
            question: 'The plane goes up. This is called ___.',
            options: ['landing', 'takeoff', 'turbulence'],
            correctIndex: 1,
            correctFeedback: 'Takeoff is when the plane leaves the ground and goes up.',
            incorrectFeedback: 'When the plane goes up and leaves the ground, it is called takeoff.'
          },
          {
            question: 'You want to sleep. You ask for a ___.',
            options: ['pillow', 'drink', 'meal'],
            correctIndex: 0,
            correctFeedback: 'A pillow helps you rest your head when you sleep.',
            incorrectFeedback: 'A pillow is soft and helps you rest your head when you sleep.'
          },
          {
            question: 'This person helps you on the plane: flight ___.',
            options: ['pilot', 'attendant', 'passenger'],
            correctIndex: 1,
            correctFeedback: 'A flight attendant helps passengers during the flight.',
            incorrectFeedback: 'The flight attendant is the person who helps passengers on the plane.'
          }
        ],
        // Set 2
        [
          {
            question: 'Water without bubbles is called ___ water.',
            options: ['sparkling', 'still', 'fizzy'],
            correctIndex: 1,
            correctFeedback: 'Still water has no bubbles. It is also called flat water.',
            incorrectFeedback: 'Water without bubbles is called still water.'
          },
          {
            question: 'The plane comes down. This is called ___.',
            options: ['takeoff', 'landing', 'turbulence'],
            correctIndex: 1,
            correctFeedback: 'Landing is when the plane comes down and touches the ground.',
            incorrectFeedback: 'When the plane comes down and touches the ground, it is called landing.'
          },
          {
            question: 'You must fasten your ___ for takeoff.',
            options: ['blanket', 'tray table', 'seatbelt'],
            correctIndex: 2,
            correctFeedback: 'You must fasten your seatbelt for safety during takeoff and landing.',
            incorrectFeedback: 'For safety, you must fasten your seatbelt during takeoff and landing.'
          },
          {
            question: 'You are thirsty. You ask for a ___.',
            options: ['pillow', 'drink', 'blanket'],
            correctIndex: 1,
            correctFeedback: 'When you are thirsty, you need a drink like water or juice.',
            incorrectFeedback: 'When you are thirsty, you ask for a drink.'
          },
          {
            question: 'The plane is shaking. This is called ___.',
            options: ['takeoff', 'landing', 'turbulence'],
            correctIndex: 2,
            correctFeedback: 'Turbulence is when the plane shakes because of rough air.',
            incorrectFeedback: 'When the plane shakes, it is called turbulence.'
          }
        ],
        // Set 3
        [
          {
            question: 'The seat in the middle is called the ___ seat.',
            options: ['middle', 'window', 'aisle'],
            correctIndex: 0,
            correctFeedback: 'The middle seat is between the window seat and the aisle seat.',
            incorrectFeedback: 'The seat between the window and the aisle is the middle seat.'
          },
          {
            question: 'You put your food on the ___ table.',
            options: ['seat', 'tray', 'overhead'],
            correctIndex: 1,
            correctFeedback: 'The tray table folds down from the seat in front of you.',
            incorrectFeedback: 'You put your food on the tray table, which folds down from the seat in front.'
          },
          {
            question: 'You are hungry. You ask for a ___.',
            options: ['blanket', 'pillow', 'snack'],
            correctIndex: 2,
            correctFeedback: 'A snack is a small amount of food to eat between meals.',
            incorrectFeedback: 'When you are hungry, you ask for a snack.'
          },
          {
            question: 'You want to eat lunch. You ask: What time is the ___?',
            options: ['exit', 'meal', 'seatbelt'],
            correctIndex: 1,
            correctFeedback: 'Meal is the word for food served on a plane, like breakfast, lunch, or dinner.',
            incorrectFeedback: 'On a plane, lunch or dinner is called a meal.'
          },
          {
            question: 'In an emergency, you go to the emergency ___.',
            options: ['bin', 'table', 'exit'],
            correctIndex: 2,
            correctFeedback: 'The emergency exit is a special door for leaving the plane quickly.',
            incorrectFeedback: 'In an emergency, you leave through the emergency exit.'
          }
        ],
        // Set 4
        [
          {
            question: 'The food on a long flight is called the ___.',
            options: ['snack', 'meal', 'drink'],
            correctIndex: 1,
            correctFeedback: 'A meal is a full serving of food, usually with different dishes.',
            incorrectFeedback: 'On a long flight, the full food service is called a meal.'
          },
          {
            question: 'Coffee and water are ___.',
            options: ['snacks', 'meals', 'drinks'],
            correctIndex: 2,
            correctFeedback: 'Coffee and water are drinks, which are liquids you consume.',
            incorrectFeedback: 'Coffee, water, and other liquids are called drinks.'
          },
          {
            question: 'Water with bubbles is called ___ water.',
            options: ['still', 'sparkling', 'flat'],
            correctIndex: 1,
            correctFeedback: 'Sparkling water has bubbles. It is also called fizzy water.',
            incorrectFeedback: 'Water with bubbles is called sparkling water.'
          },
          {
            question: 'Before takeoff, close your tray ___.',
            options: ['blanket', 'table', 'pillow'],
            correctIndex: 1,
            correctFeedback: 'The tray table must be closed and locked for takeoff and landing.',
            incorrectFeedback: 'You must close your tray table before takeoff.'
          },
          {
            question: 'A small snack between meals is called a ___.',
            options: ['meal', 'snack', 'drink'],
            correctIndex: 1,
            correctFeedback: 'A snack is a small amount of food you eat between meals.',
            incorrectFeedback: 'A small amount of food between meals is called a snack.'
          }
        ]
      ];
      
      // ============================================
      // DRAG-DROP QUESTION POOLS (4 sets of 5 sentences)
      // Mid-sentence punctuation stays with word
      // ============================================
      const dragDropPools = [
        // Set 1
        [
          { words: ['blanket', 'I', 'a', 'have', 'Can', 'please', '?'], answer: 'Can I have a blanket please ?' },
          { words: ['arrive', 'do', 'time', 'What', 'we', '?'], answer: 'What time do we arrive ?' },
          { words: ['is', 'the', 'exit', 'emergency', 'Where', '?'], answer: 'Where is the emergency exit ?' },
          { words: ['Excuse me,', 'water', 'some', 'I', 'have', 'can', 'please', '?'], answer: 'Excuse me, can I have some water please ?' },
          { words: ['meal', 'time', 'the', 'is', 'What', '?'], answer: 'What time is the meal ?' }
        ],
        // Set 2
        [
          { words: ['have', 'drink', 'Can', 'I', 'a', 'please', '?'], answer: 'Can I have a drink please ?' },
          { words: ['land', 'time', 'do', 'we', 'What', '?'], answer: 'What time do we land ?' },
          { words: ['pillow', 'I', 'a', 'have', 'Can', 'please', '?'], answer: 'Can I have a pillow please ?' },
          { words: ['the', 'bin', 'is', 'overhead', 'Where', '?'], answer: 'Where is the overhead bin ?' },
          { words: ['snack', 'a', 'have', 'I', 'Can', '?'], answer: 'Can I have a snack ?' }
        ],
        // Set 3
        [
          { words: ['drink', 'I', 'have', 'Can', 'a', 'please', '?'], answer: 'Can I have a drink please ?' },
          { words: ['is', 'takeoff', 'What', 'time', '?'], answer: 'What time is takeoff ?' },
          { words: ['the', 'middle', 'seat', 'Where', 'is', '?'], answer: 'Where is the middle seat ?' },
          { words: ['Excuse me,', 'cold', 'I', 'am', '.'], answer: 'Excuse me, I am cold .' },
          { words: ['landing', 'the', 'What', 'is', 'time', '?'], answer: 'What time is the landing ?' }
        ],
        // Set 4
        [
          { words: ['some', 'water', 'I', 'have', 'Can', 'please', '?'], answer: 'Can I have some water please ?' },
          { words: ['lunch', 'is', 'time', 'What', '?'], answer: 'What time is lunch ?' },
          { words: ['seat', 'my', 'is', 'Where', '?'], answer: 'Where is my seat ?' },
          { words: ['blanket', 'a', 'and', 'pillow', 'have', 'I', 'Can', 'a', 'please', '?'], answer: 'Can I have a blanket and a pillow please ?' },
          { words: ['flight', 'the', 'Where', 'is', 'attendant', '?'], answer: 'Where is the flight attendant ?' }
        ]
      ];
      
      // ============================================
      // HELPER FUNCTION: Shuffle Array
      // ============================================
      function shuffleArray(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
      }
      
      // ============================================
      // GAP-FILL GENERATION - WITH WORD BANK
      // ============================================
      function generateGapFill(setIndex) {
        const container = document.getElementById('gap-fill-airplane');
        if (!container) return;
        
        const convoSet = gapFillPools[setIndex % gapFillPools.length];
        
        let html = '<h3><i class="fa-solid fa-plane icon-primary"></i> On the Airplane</h3>';
        html += '<p>Complete this conversation. Use the words from the box.</p>';
        
        // Add word bank with proper styling classes
        const shuffledWords = shuffleArray(convoSet.wordBank);
        html += '<div class="vocab-words-wrapper" style="position: relative; margin-bottom: 20px;">';
        html += '<p class="vocab-words-label">Word Bank:</p>';
        html += '<div class="vocab-words-container">';
        shuffledWords.forEach(word => {
          html += `<span class="vocab-word-item" style="cursor: default;">${word}</span>`;
        });
        html += '</div></div>';
        
        html += '<div class="conversation-container">';
        
        let gapCount = 0;
        
        convoSet.conversation.forEach((line, index) => {
          // Add icon based on speaker
          let speakerIcon = '';
          if (line.speaker === 'Passenger') {
            speakerIcon = '<i class="fa-solid fa-user icon-primary icon-spacing"></i>';
          } else if (line.speaker === 'Flight Attendant') {
            speakerIcon = '<i class="fa-solid fa-user-tie icon-secondary icon-spacing"></i>';
          } else if (line.speaker === 'Captain') {
            speakerIcon = '<i class="fa-solid fa-user-pilot icon-success icon-spacing"></i>';
          }
          
          html += `<p class="gap-fill-sentence">${speakerIcon}<strong>${line.speaker}:</strong> `;
          
          if (line.gap) {
            const parts = line.text.split('___');
            html += parts[0];
            html += `<input type="text" class="gap-input" data-answer="${line.answer}" placeholder="?">`;
            if (parts[1]) html += parts[1];
            gapCount++;
          } else {
            html += line.text;
          }
          
          html += '</p>';
        });
        
        html += '</div>';
        
        // Add control buttons
        html += `
          <div class="control-buttons">
            <button class="nav-button" id="gap-fill-prev" style="visibility:hidden;">‚Üê Previous</button>
            <button id="gap-fill-airplane-submit" class="submit-btn">Check Answers</button>
            <button id="gap-fill-airplane-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="gap-fill-next">Next ‚Üí</button>
          </div>
          <div class="score-display" id="gap-fill-airplane-score" style="display:none;">
            Your score: <span>0</span>/${gapCount}
          </div>
        `;
        
        container.innerHTML = html;
        
        // Re-initialize gap fill
        GapFillModule.init({
          containerId: 'gap-fill-airplane',
          onComplete: function(score, total) {
            console.log('Gap fill completed:', score, '/', total);
          }
        });
        
        // Re-attach navigation
        document.getElementById('gap-fill-next').addEventListener('click', function() {
          document.querySelector('[data-activity="mcq"]').click();
        });
        
        // Override restart to show next set
        const restartBtn = document.getElementById('gap-fill-airplane-restart');
        if (restartBtn) {
          restartBtn.addEventListener('click', function() {
            gapFillSetIndex++;
            setTimeout(() => generateGapFill(gapFillSetIndex), 100);
          });
        }
      }
      
      // ============================================
      // MCQ GENERATION - WITH FEEDBACK
      // ============================================
      function getMCQIcon(question) {
        // Return appropriate icon based on question content
        if (question.includes('cold')) {
          return '<i class="fa-solid fa-snowflake icon-light-blue icon-spacing-sm"></i>';
        } else if (question.includes('sleep')) {
          return '<i class="fa-solid fa-bed icon-primary icon-spacing-sm"></i>';
        } else if (question.includes('thirsty')) {
          return '<i class="fa-solid fa-glass-water icon-light-blue icon-spacing-sm"></i>';
        } else if (question.includes('hungry')) {
          return '<i class="fa-solid fa-burger icon-secondary icon-spacing-sm"></i>';
        } else if (question.includes('plane goes up') || question.includes('plane leaves')) {
          return '<i class="fa-solid fa-plane-departure icon-primary icon-spacing-sm"></i>';
        } else if (question.includes('plane comes down') || question.includes('touches the ground')) {
          return '<i class="fa-solid fa-plane-arrival icon-primary icon-spacing-sm"></i>';
        } else if (question.includes('shaking')) {
          return '<i class="fa-solid fa-wind icon-primary icon-spacing-sm"></i>';
        } else if (question.includes('emergency')) {
          return '<i class="fa-solid fa-triangle-exclamation icon-warning icon-spacing-sm"></i>';
        } else if (question.includes('fasten')) {
          return '<i class="fa-solid fa-user-shield icon-success icon-spacing-sm"></i>';
        }
        return ''; // No icon for other questions
      }
      
      function generateMCQ(setIndex) {
        const container = document.getElementById('mcq');
        if (!container) return;
        
        const questionSet = mcqPools[setIndex % mcqPools.length];
        
        let html = '<h3><i class="fa-solid fa-clipboard-question icon-primary"></i> Vocabulary Quiz</h3>';
        html += '<p>Choose the correct word for each sentence.</p>';
        
        const answers = {};
        const correctExplanations = {};
        const incorrectExplanations = {};
        
        questionSet.forEach((q, index) => {
          const qId = `q${index + 1}`;
          answers[qId] = q.correctIndex;
          correctExplanations[qId] = q.correctFeedback;
          incorrectExplanations[qId] = q.incorrectFeedback;
          
          const questionIcon = getMCQIcon(q.question);
          
          html += `<div class="question" id="${qId}">`;
          html += `<p class="mcq-question">${index + 1}. ${questionIcon}${q.question}</p>`;
          html += '<div class="options">';
          
          q.options.forEach((option, optIndex) => {
            const letter = String.fromCharCode(65 + optIndex);
            html += `<div class="option" data-index="${optIndex}">`;
            html += `<span>${letter}. ${option}</span>`;
            html += '</div>';
          });
          
          html += '</div>';
          html += '<div class="feedback"></div>';
          html += '</div>';
        });
        
        // Add control buttons
        html += `
          <div class="control-buttons">
            <button class="nav-button" id="mcq-prev">‚Üê Previous</button>
            <button id="mcq-submit" class="submit-btn">Check Answers</button>
            <button id="mcq-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="mcq-next">Next ‚Üí</button>
          </div>
          <div class="score-display" id="mcq-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        `;
        
        container.innerHTML = html;
        
        // Re-initialize MCQ with feedback explanations
        MCQModule.init({
          containerId: 'mcq',
          answers: answers,
          correctExplanations: correctExplanations,
          incorrectExplanations: incorrectExplanations,
          showAllQuestionsAtOnce: true,
          onComplete: function(score, total) {
            console.log('MCQ completed:', score, '/', total);
          }
        });
        
        // Clear any preselected options
        document.querySelectorAll('#mcq .option').forEach(function(option) {
          option.classList.remove('selected');
        });
        
        // Re-attach navigation
        document.getElementById('mcq-prev').addEventListener('click', function() {
          document.querySelector('[data-activity="gap-fill-airplane"]').click();
        });
        document.getElementById('mcq-next').addEventListener('click', function() {
          document.querySelector('[data-activity="drag-drop-airplane"]').click();
        });
        
        // Override restart to show next set
        const restartBtn = document.getElementById('mcq-restart');
        if (restartBtn) {
          restartBtn.addEventListener('click', function() {
            mcqSetIndex++;
            setTimeout(() => generateMCQ(mcqSetIndex), 100);
          });
        }
      }
      
      // ============================================
      // DRAG-DROP GENERATION
      // ============================================
      function generateDragDrop(setIndex) {
        const container = document.getElementById('drag-drop-airplane');
        if (!container) return;
        
        const sentenceSet = dragDropPools[setIndex % dragDropPools.length];
        
        let html = '<h3><i class="fa-solid fa-list-ol icon-primary"></i> Put the Words in Order</h3>';
        html += '<p>Put the words in the correct order to make sentences you might say on an airplane.</p>';
        
        const answers = {};
        
        sentenceSet.forEach((s, index) => {
          const ddId = `dd${index + 1}`;
          answers[ddId] = s.answer;
          
          // Shuffle the words for display
          const shuffledWords = shuffleArray(s.words);
          
          html += `<div class="question" id="${ddId}">`;
          html += `<p class="question-text">${index + 1}.</p>`;
          html += '<div class="drop-zone"></div>';
          html += '<div class="drag-items">';
          
          shuffledWords.forEach(word => {
            html += `<div class="drag-item">${word}</div>`;
          });
          
          html += '</div></div>';
        });
        
        // Add control buttons
        html += `
          <div class="control-buttons">
            <button class="nav-button" id="drag-drop-prev">‚Üê Previous</button>
            <button id="drag-drop-airplane-submit" class="submit-btn">Check Answers</button>
            <button id="drag-drop-airplane-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="drag-drop-next" style="visibility:hidden;">Next ‚Üí</button>
          </div>
          <div class="score-display" id="drag-drop-airplane-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        `;
        
        container.innerHTML = html;
        
        // Re-initialize Drag Drop
        DragDropModule.init({
          containerId: 'drag-drop-airplane',
          storageKey: 'travel-lesson2-airplane',
          answers: answers,
          onComplete: function(score, total) {
            console.log('Drag and drop completed:', score, '/', total);
          }
        });
        
        // Re-attach navigation
        document.getElementById('drag-drop-prev').addEventListener('click', function() {
          document.querySelector('[data-activity="mcq"]').click();
        });
        
        // Override restart to show next set
        const restartBtn = document.getElementById('drag-drop-airplane-restart');
        if (restartBtn) {
          restartBtn.addEventListener('click', function() {
            dragDropSetIndex++;
            setTimeout(() => generateDragDrop(dragDropSetIndex), 100);
          });
        }
      }
      
      // ============================================
      // INITIALIZE ALL MODULES
      // ============================================
      
      // Initialize Vocabulary Matching with Carousel
      VocabMatchModule.init({
        containerId: 'vocab-match',
        onComplete: function(score, total) {
          console.log('Vocabulary matching completed:', score, '/', total);
        }
      });
      
      // ============================================
      // PAGE-SPECIFIC WORD BANK FILTERING
      // ============================================
      
      // Function to show only words for the current page
      function filterWordsByPage(pageIndex) {
        const wordBank = document.querySelector('#vocab-match .vocab-words-container');
        if (!wordBank) return;
        
        const allWords = wordBank.querySelectorAll('.vocab-word-item');
        allWords.forEach(word => {
          const wordPage = parseInt(word.getAttribute('data-page'));
          // Only show words for current page (and not already placed)
          if (wordPage === pageIndex && !word.classList.contains('placed')) {
            word.style.display = '';
          } else {
            word.style.display = 'none';
          }
        });
      }
      
      // Show only page 0 words on initial load
      filterWordsByPage(0);
      
      // Hook into carousel navigation buttons
      const vocabContainer = document.getElementById('vocab-match');
      const prevBtn = vocabContainer.querySelector('.vocab-carousel-prev');
      const nextBtn = vocabContainer.querySelector('.vocab-carousel-next');
      const dots = vocabContainer.querySelectorAll('.vocab-carousel-dot');
      
      // Track current page
      let currentVocabPage = 0;
      const totalVocabPages = 4;
      
      // Update words when prev button clicked
      prevBtn.addEventListener('click', function() {
        if (currentVocabPage > 0) {
          currentVocabPage--;
          filterWordsByPage(currentVocabPage);
        }
      });
      
      // Update words when next button clicked
      nextBtn.addEventListener('click', function() {
        if (currentVocabPage < totalVocabPages - 1) {
          currentVocabPage++;
          filterWordsByPage(currentVocabPage);
        }
      });
      
      // Update words when dots clicked
      dots.forEach(dot => {
        dot.addEventListener('click', function() {
          currentVocabPage = parseInt(this.getAttribute('data-page'));
          filterWordsByPage(currentVocabPage);
        });
      });
      
      // Reset word filtering when activity is reset
      const vocabResetBtn = vocabContainer.querySelector('.vocab-reset-btn');
      if (vocabResetBtn) {
        vocabResetBtn.addEventListener('click', function() {
          currentVocabPage = 0;
          // Small delay to let the module reset first
          setTimeout(() => filterWordsByPage(0), 100);
        });
      }
      
      // Initialize Flashcards
      FlashcardModule.init({
        containerId: 'flashcards'
      });
      
      // Generate initial activities with Set 1
      generateGapFill(0);
      generateMCQ(0);
      generateDragDrop(0);
      
      // Initialize Activity Navigation
      ActivityNavModule.init({
        containerId: 'activity-nav',
        activities: ['gap-fill-airplane', 'mcq', 'drag-drop-airplane'],
        onActivityChange: function(activityId) {
          console.log('Activity changed to:', activityId);
        }
      });
      
    });
  </script>
</body>
</html>
