<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Travel English Lesson 1 - Learn essential vocabulary and phrases for airport check-in, security, and boarding. Beginner ESL lesson.">
  <title>Check-in, Security, and Boarding - Travel English | English in Doses</title>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&family=Source+Code+Pro&display=swap" rel="stylesheet">
  
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- Styles -->
  
<link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/levels.css">
  <link rel="stylesheet" href="../../css/activities.css">
  <link rel="stylesheet" href="../../css/vocab-match.css">
  <link rel="stylesheet" href="../../css/flash-cards.css">
</head>

<body class="beginner-section">
  <!-- Skip link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to content</a>

  <!-- Theme toggle button -->
  <div class="theme-toggle-container">
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
      <span class="light-icon">‚òÄÔ∏è</span>
      <span class="dark-icon">üåô</span>
    </button>
  </div>

  <!-- Navigation -->
  <nav class="main-navigation">
    <a href="../../home.html" class="site-logo">
      <img src="../../images/my-logo.svg" alt="English in Doses" width="150" height="auto">
    </a>
    <button class="nav-toggle" aria-label="Toggle navigation">‚ò∞</button>
    <div class="nav-links">
      <a href="../../home.html" class="nav-link">Home</a>
    <a href="../../about.html" class="nav-link">About Us</a>
    <a href="../../home.html#level-test" class="nav-link">Find Your Level</a>
    <a href="../../beginner-landing.html" class="nav-link">Beginner</a>
    <a href="../../intermediate-landing.html" class="nav-link">Intermediate</a>
    <a href="../../advanced-landing.html" class="nav-link">Advanced</a>
    <a href="../../travel/beginner-travel/travel-english.html" class="nav-link">Travel English</a>
    <a href="../../my-progress.html" class="nav-link">My Progress</a>
    <a href="../../booking-page.html" class="nav-link">Book a Lesson</a>
    </div>
    <div class="beginner-nav-indicator"></div>
  </nav>

  <div class="container">
    <!-- Breadcrumbs -->
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <span class="breadcrumb-item"><a href="../../home.html">Home</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item"><a href="travel-english.html">Travel English</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item"><a href="travel-english.html#unit-1">Unit 1: Airport</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item">Lesson 1</span>
    </nav>

    <main id="main-content">
      <!-- Page Header -->
      <h1>‚úàÔ∏è Check-in, Security, and Boarding</h1>
      
      <!-- Introduction Section -->
      <section class="intro-section">
        <h2>What will you learn?</h2>
        <p>In this lesson, you will learn how to:</p>
        <ul>
          <li>Check in for your flight at the airport</li>
          <li>Go through security without problems</li>
          <li>Find your gate and board your plane</li>
        </ul>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 1: VOCABULARY WITH CAROUSEL -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2>üìö Airport Vocabulary</h2>
        <p>Learn the important words you will see and hear at the airport. Drag each word to the correct picture.</p>
        
        <div id="vocab-match" class="vocab-match-container">
          
          <div class="vocab-section">
            <!-- Carousel Navigation -->
            <div class="vocab-carousel-nav">
              <button class="vocab-carousel-btn vocab-carousel-prev" aria-label="Previous page">‚Äπ</button>
              <span class="vocab-carousel-indicator">1 / 4</span>
              <button class="vocab-carousel-btn vocab-carousel-next" aria-label="Next page">‚Ä∫</button>
            </div>
            
            <!-- Carousel Container -->
            <div class="vocab-carousel">
              
              <!-- Page 1: Check-in Items -->
              <div class="vocab-carousel-page active">
                <div class="vocab-images-grid">
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/passport.png" alt="passport" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="passport"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/boarding-pass.png" alt="boarding pass" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="boarding pass"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/check-in-counter.png" alt="check-in counter" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="check-in counter"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/kiosk.png" alt="self-service kiosk" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="kiosk"></div>
                  </div>
                </div>
              </div>
              
              <!-- Page 2: Luggage & Seating -->
              <div class="vocab-carousel-page">
                <div class="vocab-images-grid">
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/suitcase.png" alt="suitcase" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="suitcase"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/window-seat.png" alt="window seat" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="window seat"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/aisle-seat.png" alt="aisle seat" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="aisle seat"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/scan.png" alt="scan boarding pass" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="scan"></div>
                  </div>
                </div>
              </div>
              
              <!-- Page 3: Security Items -->
              <div class="vocab-carousel-page">
                <div class="vocab-images-grid">
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/belt.png" alt="belt" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="belt"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/laptop.png" alt="laptop" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="laptop"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/liquids.png" alt="liquids in plastic bag" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="liquids"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/shoes.png" alt="shoes" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="shoes"></div>
                  </div>
                </div>
              </div>
              
              <!-- Page 4: Boarding & Navigation -->
              <div class="vocab-carousel-page">
                <div class="vocab-images-grid">
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/gate.png" alt="boarding gate" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="gate"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/terminal.png" alt="airport terminal" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="terminal"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/departure.png" alt="departure board" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="departure"></div>
                  </div>
                  
                  <div class="vocab-image-item">
                    <div class="vocab-image-wrapper">
                      <img src="../../images/travel-beginner/unit1/lesson1/print.png" alt="print boarding pass" class="vocab-image">
                    </div>
                    <div class="vocab-drop-zone empty" data-answer="print"></div>
                  </div>
                </div>
              </div>
              
            </div>
            
            <!-- Page Dots -->
            <div class="vocab-carousel-dots">
              <span class="vocab-carousel-dot active" data-page="0"></span>
              <span class="vocab-carousel-dot" data-page="1"></span>
              <span class="vocab-carousel-dot" data-page="2"></span>
              <span class="vocab-carousel-dot" data-page="3"></span>
            </div>
            
            <!-- Sticky Word Bank -->
            <div class="vocab-words-wrapper">
              <p class="vocab-words-label">üëá Drag words from here</p>
              <div class="vocab-words-container">
                <div class="vocab-word-item">terminal</div>
                <div class="vocab-word-item">boarding pass</div>
                <div class="vocab-word-item">liquids</div>
                <div class="vocab-word-item">scan</div>
                <div class="vocab-word-item">gate</div>
                <div class="vocab-word-item">passport</div>
                <div class="vocab-word-item">belt</div>
                <div class="vocab-word-item">window seat</div>
                <div class="vocab-word-item">departure</div>
                <div class="vocab-word-item">kiosk</div>
                <div class="vocab-word-item">laptop</div>
                <div class="vocab-word-item">suitcase</div>
                <div class="vocab-word-item">check-in counter</div>
                <div class="vocab-word-item">shoes</div>
                <div class="vocab-word-item">aisle seat</div>
                <div class="vocab-word-item">print</div>
              </div>
            </div>
          </div>
          
          <!-- Controls -->
          <div class="vocab-controls">
            <button class="vocab-check-btn">Check Answers</button>
            <button class="vocab-reset-btn">Try Again</button>
          </div>
          
          <div class="vocab-score">Your score: <span>0</span>/16</div>
          <div class="vocab-feedback"></div>
          
        </div>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 2: KEY PHRASES -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2>üí¨ Key Phrases</h2>
        <p>Learn these useful phrases for the airport. Click each card to see an example sentence.</p>
        
        <div id="flashcards" class="flashcard-container">
          
          <div class="flashcard-intro">
            <p class="hint">üëÜ Click a card to flip it and see the full example</p>
          </div>
          
          <div class="flashcard-grid">
            
            <!-- Card 1: I'd like to... -->
            <div class="flashcard-wrapper">
              <div class="flashcard" tabindex="0">
                <div class="flashcard-front">
                  <span class="flashcard-number">1</span>
                  <span class="flashcard-label">Polite Request</span>
                  <span class="flashcard-phrase">I'd like to...</span>
                  <span class="flashcard-hint"><span class="rotate-icon">üîÑ</span> Click to see example</span>
                </div>
                <div class="flashcard-back">
                  <span class="flashcard-number">1</span>
                  <span class="flashcard-label">Example</span>
                  <span class="flashcard-example"><span class="grammar-highlight">I'd like to</span> check in, please.</span>
                  <span class="flashcard-usage">Use this to ask for something politely</span>
                </div>
              </div>
            </div>
            
            <!-- Card 2: Where is...? -->
            <div class="flashcard-wrapper">
              <div class="flashcard" tabindex="0">
                <div class="flashcard-front">
                  <span class="flashcard-number">2</span>
                  <span class="flashcard-label">Asking for Location</span>
                  <span class="flashcard-phrase">Where is...?</span>
                  <span class="flashcard-hint"><span class="rotate-icon">üîÑ</span> Click to see example</span>
                </div>
                <div class="flashcard-back">
                  <span class="flashcard-number">2</span>
                  <span class="flashcard-label">Example</span>
                  <span class="flashcard-example"><span class="grammar-highlight">Where is</span> gate 15?</span>
                  <span class="flashcard-usage">Use this to find places</span>
                </div>
              </div>
            </div>
            
            <!-- Card 3: Can I have...? -->
            <div class="flashcard-wrapper">
              <div class="flashcard" tabindex="0">
                <div class="flashcard-front">
                  <span class="flashcard-number">3</span>
                  <span class="flashcard-label">Asking for Something</span>
                  <span class="flashcard-phrase">Can I have...?</span>
                  <span class="flashcard-hint"><span class="rotate-icon">üîÑ</span> Click to see example</span>
                </div>
                <div class="flashcard-back">
                  <span class="flashcard-number">3</span>
                  <span class="flashcard-label">Example</span>
                  <span class="flashcard-example"><span class="grammar-highlight">Can I have</span> a window seat?</span>
                  <span class="flashcard-usage">Use this to request something</span>
                </div>
              </div>
            </div>
            
            <!-- Card 4: Excuse me... -->
            <div class="flashcard-wrapper">
              <div class="flashcard" tabindex="0">
                <div class="flashcard-front">
                  <span class="flashcard-number">4</span>
                  <span class="flashcard-label">Getting Attention</span>
                  <span class="flashcard-phrase">Excuse me...</span>
                  <span class="flashcard-hint"><span class="rotate-icon">üîÑ</span> Click to see example</span>
                </div>
                <div class="flashcard-back">
                  <span class="flashcard-number">4</span>
                  <span class="flashcard-label">Example</span>
                  <span class="flashcard-example"><span class="grammar-highlight">Excuse me</span>, where is terminal 2?</span>
                  <span class="flashcard-usage">Use this before asking for help</span>
                </div>
              </div>
            </div>
            
          </div>
          
          <div class="flashcard-controls">
            <button class="flip-all-btn"><span class="icon">üîÑ</span> Show All Examples</button>
          </div>
          
        </div>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 3: PRACTICE ACTIVITIES -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2>‚úçÔ∏è Practice Activities</h2>
        <p>Now practise using the vocabulary and phrases you have learned.</p>
        
        <!-- Activity Navigation -->
        <div id="activity-nav" class="activity-nav">
          <button data-activity="gap-fill-checkin" class="activity-nav-btn active">Check-in</button>
          <button data-activity="mcq" class="activity-nav-btn">Security</button>
          <button data-activity="drag-drop-boarding" class="activity-nav-btn">Boarding</button>
        </div>

        <!-- Activity 1: Check-in Gap Fill -->
        <section id="gap-fill-checkin" class="activity-container active">
          <h3>üß≥ At the Check-in Counter</h3>
          <p>Complete this conversation between a traveller and a check-in attendant.</p>
          
          <div class="question" id="gf1">
            <p class="gap-fill-sentence"><strong>Attendant:</strong> Good morning. How can I help you?</p>
            <p class="gap-fill-sentence"><strong>Traveller:</strong> Hi, <input type="text" class="gap-input" data-answer="I'd like to,I would like to" placeholder="..." style="width: 120px;"> check in, please.</p>
          </div>
          
          <div class="question" id="gf2">
            <p class="gap-fill-sentence"><strong>Attendant:</strong> Of course. Can I see your <input type="text" class="gap-input" data-answer="passport" placeholder="..." style="width: 100px;">, please?</p>
            <p class="gap-fill-sentence"><strong>Traveller:</strong> Here you are.</p>
          </div>
          
          <div class="question" id="gf3">
            <p class="gap-fill-sentence"><strong>Attendant:</strong> Thank you. Do you have any bags to check in?</p>
            <p class="gap-fill-sentence"><strong>Traveller:</strong> Yes, I have one <input type="text" class="gap-input" data-answer="suitcase" placeholder="..." style="width: 100px;">.</p>
          </div>
          
          <div class="question" id="gf4">
            <p class="gap-fill-sentence"><strong>Attendant:</strong> Would you prefer a <input type="text" class="gap-input" data-answer="window seat" placeholder="..." style="width: 130px;"> or an <input type="text" class="gap-input" data-answer="aisle seat" placeholder="..." style="width: 130px;">?</p>
            <p class="gap-fill-sentence"><strong>Traveller:</strong> Can <input type="text" class="gap-input" data-answer="I have,I get" placeholder="..." style="width: 80px;"> a window seat, please?</p>
          </div>
          
          <div class="question" id="gf5">
            <p class="gap-fill-sentence"><strong>Attendant:</strong> No problem. Here is your <input type="text" class="gap-input" data-answer="boarding pass" placeholder="..." style="width: 120px;">. Have a good flight!</p>
            <p class="gap-fill-sentence"><strong>Traveller:</strong> Thank you!</p>
          </div>
          
          <div class="control-buttons">
            <button class="nav-button" id="gap-fill-prev" style="visibility:hidden;">‚Üê Previous</button>
            <button id="gap-fill-checkin-submit" class="submit-btn">Check Answers</button>
            <button id="gap-fill-checkin-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="gap-fill-next">Next ‚Üí</button>
          </div>
          
          <div class="score-display" id="gap-fill-checkin-score" style="display:none;">
            Your score: <span>0</span>/7
          </div>
        </section>

        <!-- Activity 2: Security MCQ with Images -->
        <section id="mcq" class="activity-container">
          <h3>üîí At Security</h3>
          <p>At security, staff give instructions. Match each instruction to the correct picture.</p>
          
          <div class="question" id="q1">
            <p class="mcq-question">1. "Take off your belt."</p>
            <div class="options" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
              <div class="option" data-index="0" onclick="MCQModule.selectOption('q1', 0)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/belt.png" alt="belt" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="1" onclick="MCQModule.selectOption('q1', 1)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/laptop.png" alt="laptop" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="2" onclick="MCQModule.selectOption('q1', 2)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/liquids.png" alt="liquids" style="max-height: 60px; max-width: 100%;">
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <div class="question" id="q2">
            <p class="mcq-question">2. "Remove your laptop from your bag."</p>
            <div class="options" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
              <div class="option" data-index="0" onclick="MCQModule.selectOption('q2', 0)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/shoes.png" alt="shoes" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="1" onclick="MCQModule.selectOption('q2', 1)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/laptop.png" alt="laptop" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="2" onclick="MCQModule.selectOption('q2', 2)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/suitcase.png" alt="suitcase" style="max-height: 60px; max-width: 100%;">
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <div class="question" id="q3">
            <p class="mcq-question">3. "Put your liquids in a clear plastic bag."</p>
            <div class="options" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
              <div class="option" data-index="0" onclick="MCQModule.selectOption('q3', 0)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/liquids.png" alt="liquids" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="1" onclick="MCQModule.selectOption('q3', 1)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/passport.png" alt="passport" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="2" onclick="MCQModule.selectOption('q3', 2)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/belt.png" alt="belt" style="max-height: 60px; max-width: 100%;">
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <div class="question" id="q4">
            <p class="mcq-question">4. "Take off your shoes."</p>
            <div class="options" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
              <div class="option" data-index="0" onclick="MCQModule.selectOption('q4', 0)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/boarding-pass.png" alt="boarding pass" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="1" onclick="MCQModule.selectOption('q4', 1)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/laptop.png" alt="laptop" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="2" onclick="MCQModule.selectOption('q4', 2)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/shoes.png" alt="shoes" style="max-height: 60px; max-width: 100%;">
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <div class="question" id="q5">
            <p class="mcq-question">5. "Scan your boarding pass here."</p>
            <div class="options" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">
              <div class="option" data-index="0" onclick="MCQModule.selectOption('q5', 0)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/gate.png" alt="gate" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="1" onclick="MCQModule.selectOption('q5', 1)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/scan.png" alt="scan" style="max-height: 60px; max-width: 100%;">
              </div>
              <div class="option" data-index="2" onclick="MCQModule.selectOption('q5', 2)" style="text-align: center; padding: 15px;">
                <img src="../../images/travel-beginner/unit1/lesson1/passport.png" alt="passport" style="max-height: 60px; max-width: 100%;">
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <div class="control-buttons">
            <button class="nav-button" id="mcq-prev">‚Üê Previous</button>
            <button id="mcq-submit" class="submit-btn">Check Answers</button>
            <button id="mcq-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="mcq-next">Next ‚Üí</button>
          </div>
          
          <div class="score-display" id="mcq-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        </section>

        <!-- Activity 3: Airport Sentence Reordering -->
        <section id="drag-drop-boarding" class="activity-container">
          <h3>‚úàÔ∏è At the Airport</h3>
          <p>Put the words in the correct order to make sentences you might say or hear at the airport.</p>
          
          <div class="question" id="dd1">
            <p class="question-text">1.</p>
            <div class="drop-zone"></div>
            <div class="drag-items">
              <div class="drag-item">gate</div>
              <div class="drag-item">?</div>
              <div class="drag-item">Where</div>
              <div class="drag-item">15</div>
              <div class="drag-item">is</div>
            </div>
          </div>
          
          <div class="question" id="dd2">
            <p class="question-text">2.</p>
            <div class="drop-zone"></div>
            <div class="drag-items">
              <div class="drag-item">to</div>
              <div class="drag-item">flight</div>
              <div class="drag-item">.</div>
              <div class="drag-item">I</div>
              <div class="drag-item">London</div>
              <div class="drag-item">a</div>
              <div class="drag-item">have</div>
            </div>
          </div>
          
          <div class="question" id="dd3">
            <p class="question-text">3.</p>
            <div class="drop-zone"></div>
            <div class="drag-items">
              <div class="drag-item">for</div>
              <div class="drag-item">this</div>
              <div class="drag-item">?</div>
              <div class="drag-item">gate</div>
              <div class="drag-item">Is</div>
              <div class="drag-item">the</div>
              <div class="drag-item">New York</div>
            </div>
          </div>
          
          <div class="question" id="dd4">
            <p class="question-text">4.</p>
            <div class="drop-zone"></div>
            <div class="drag-items">
              <div class="drag-item">?</div>
              <div class="drag-item">have</div>
              <div class="drag-item">seat</div>
              <div class="drag-item">Can</div>
              <div class="drag-item">window</div>
              <div class="drag-item">a</div>
              <div class="drag-item">I</div>
            </div>
          </div>
          
          <div class="question" id="dd5">
            <p class="question-text">5.</p>
            <div class="drop-zone"></div>
            <div class="drag-items">
              <div class="drag-item">please</div>
              <div class="drag-item">in</div>
              <div class="drag-item">I'd</div>
              <div class="drag-item">.</div>
              <div class="drag-item">check</div>
              <div class="drag-item">,</div>
              <div class="drag-item">to</div>
              <div class="drag-item">like</div>
            </div>
          </div>
          
          <div class="control-buttons">
            <button class="nav-button" id="drag-drop-prev">‚Üê Previous</button>
            <button id="drag-drop-boarding-submit" class="submit-btn">Check Answers</button>
            <button id="drag-drop-boarding-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="drag-drop-next" style="visibility:hidden;">Next ‚Üí</button>
          </div>
          
          <div class="score-display" id="drag-drop-boarding-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        </section>
        
      </section>

      <!-- ======================================== -->
      <!-- SPEAKING PRACTICE DIVIDER -->
      <!-- ======================================== -->
      <hr class="section-divider-beginner">
      
      <section class="intro-section section-divider-intro">
        <h2>üé§ Now It's Your Turn to Speak!</h2>
        <p>You've completed all the activities. Use these conversations to practise speaking with your teacher or a partner.</p>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 4: SPEAKING PRACTICE -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2>üó£Ô∏è Model Conversations</h2>
        <p>Read these short conversations. Then practise saying them out loud.</p>
        
        <div class="example">
          <p><strong>At Check-in:</strong></p>
          <p><strong>You:</strong> <span class="grammar-highlight">I'd like to</span> check in for my flight to Paris.</p>
          <p><strong>Staff:</strong> <span class="grammar-highlight">Can I have</span> your passport, please?</p>
          <p><strong>You:</strong> Here you are. <span class="grammar-highlight">Can I have</span> a window seat?</p>
          <p><strong>Staff:</strong> Of course. Here is your boarding pass.</p>
        </div>
        
        <div class="example">
          <p><strong>At Security:</strong></p>
          <p><strong>Staff:</strong> Please take off your belt and shoes.</p>
          <p><strong>You:</strong> Do I need to remove my laptop?</p>
          <p><strong>Staff:</strong> Yes, please put it in a separate tray.</p>
        </div>
        
        <div class="example">
          <p><strong>Finding Your Gate:</strong></p>
          <p><strong>You:</strong> <span class="grammar-highlight">Excuse me, where is</span> gate B15?</p>
          <p><strong>Staff:</strong> Go straight and turn right. It's at the end.</p>
          <p><strong>You:</strong> Thank you!</p>
        </div>
      </section>

      <!-- ======================================== -->
      <!-- SECTION 5: ROLE PLAY -->
      <!-- ======================================== -->
      <section class="content-section">
        <h2>üé≠ Role Play</h2>
        <p>Practise these situations with a partner or your teacher:</p>
        
        <table>
          <thead>
            <tr>
              <th>Scenario</th>
              <th>Student A</th>
              <th>Student B</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>1. Check-in</strong></td>
              <td>You want to check in. You have one suitcase. You want an aisle seat.</td>
              <td>You work at check-in. Ask for passport and luggage information.</td>
            </tr>
            <tr>
              <td><strong>2. Security</strong></td>
              <td>You have a laptop and water bottle in your bag.</td>
              <td>You are security. Give instructions about belt, shoes, laptop, and liquids.</td>
            </tr>
            <tr>
              <td><strong>3. Finding Gate</strong></td>
              <td>You are lost. Your gate is F22. Ask for help.</td>
              <td>You work at the airport. Gate F22 is in Terminal 3, turn left after the shops.</td>
            </tr>
          </tbody>
        </table>
        
        <div class="note">
          <p><strong>üí° Remember:</strong> Use <strong>"I'd like to..."</strong> for polite requests, <strong>"Where is...?"</strong> for locations, <strong>"Can I have...?"</strong> for asking for things, and <strong>"Excuse me"</strong> before asking for help.</p>
        </div>
      </section>

    </main>
  </div>
  
  <!-- Bottom Navigation -->
  <nav class="bottom-navigation">
    <a href="unit1-airport.html" class="nav-button previous">‚Üê Back to Unit 1</a>
    <div class="center-buttons">
      <button class="nav-button print-button" onclick="window.print()">Print This Page</button>
    </div>
    <a href="lesson2-airplane.html" class="nav-button next">Next: On the Airplane ‚Üí</a>
  </nav>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="../../home.html">Home</a></li>
          <li><a href="travel-english.html">Travel English</a></li>
          <li><a href="../../my-progress.html">My Progress</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Travel Units</h3>
        <ul>
          <li><a href="unit1-airport.html">Unit 1: Airport</a></li>
          <li><a href="unit2-hotel.html">Unit 2: Hotel</a></li>
          <li><a href="unit3-transport.html">Unit 3: Transport</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Connect</h3>
        <ul>
          <li><a href="../../about.html">About</a></li>
          <li><a href="../../contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>¬© 2025 English in Doses | All rights reserved | <a href="../../license.html">Licensing Information</a></p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="../../js/core.js"></script>
  <script src="../../js/vocab-match.js"></script>
  <script src="../../js/flash-cards.js"></script>
  <script src="../../js/mcq.js"></script>
  <script src="../../js/gap-fill.js"></script>
  <script src="../../js/drag-drop.js"></script>
  <script src="../../js/activity-nav.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      
      // ============================================
      // QUESTION POOLS FOR RANDOMIZATION
      // ============================================
      
      // Gap-fill conversation pools (4 sets of conversations)
      const gapFillPools = [
        // Set 1 (London flight)
        {
          conversation: [
            { speaker: 'Attendant', text: 'Good morning. How can I help you?' },
            { speaker: 'Traveller', text: 'Hi, ', gap: { answer: "I'd like to,I would like to", width: 120 }, textAfter: ' check in, please.' },
            { speaker: 'Attendant', text: 'Of course. Can I see your ', gap: { answer: 'passport', width: 100 }, textAfter: ', please?' },
            { speaker: 'Traveller', text: 'Here you are.' },
            { speaker: 'Attendant', text: 'Thank you. Do you have any bags to check in?' },
            { speaker: 'Traveller', text: 'Yes, I have one ', gap: { answer: 'suitcase', width: 100 }, textAfter: '.' },
            { speaker: 'Attendant', text: 'Would you prefer a ', gap: { answer: 'window seat', width: 130 }, textAfter: ' or an ', gap2: { answer: 'aisle seat', width: 130 }, textAfter2: '?' },
            { speaker: 'Traveller', text: 'Can ', gap: { answer: 'I have,I get', width: 80 }, textAfter: ' a window seat, please?' },
            { speaker: 'Attendant', text: 'No problem. Here is your ', gap: { answer: 'boarding pass', width: 120 }, textAfter: '. Have a good flight!' },
            { speaker: 'Traveller', text: 'Thank you!' }
          ]
        },
        // Set 2 (Rome flight)
        {
          conversation: [
            { speaker: 'Attendant', text: 'Good afternoon. How can I help you?' },
            { speaker: 'Traveller', text: 'Hello, I\'d like to ', gap: { answer: 'check in', width: 100 }, textAfter: ' for the Rome flight.' },
            { speaker: 'Attendant', text: 'Certainly. ', gap: { answer: 'Can I have,Can I see', width: 110 }, textAfter: ' your passport?' },
            { speaker: 'Traveller', text: 'Yes, here it is.' },
            { speaker: 'Attendant', text: 'Thank you. Are you checking any bags?' },
            { speaker: 'Traveller', text: 'Yes, I have one ', gap: { answer: 'suitcase', width: 100 }, textAfter: '.' },
            { speaker: 'Attendant', text: 'Would you like an ', gap: { answer: 'aisle seat', width: 130 }, textAfter: ' or a ', gap2: { answer: 'window seat', width: 130 }, textAfter2: '?' },
            { speaker: 'Traveller', text: 'Can ', gap: { answer: 'I have,I get', width: 80 }, textAfter: ' an aisle seat, please?' },
            { speaker: 'Attendant', text: 'Of course. Here is your ', gap: { answer: 'boarding pass', width: 120 }, textAfter: '. Gate B7.' },
            { speaker: 'Traveller', text: 'Thank you very much!' }
          ]
        },
        // Set 3 (Tokyo flight)
        {
          conversation: [
            { speaker: 'Attendant', text: 'Good evening. Are you checking in?' },
            { speaker: 'Traveller', text: 'Yes, ', gap: { answer: "I'd like to,I would like to", width: 120 }, textAfter: ' check in for Tokyo.' },
            { speaker: 'Attendant', text: 'May I have your ', gap: { answer: 'passport', width: 100 }, textAfter: ', please?' },
            { speaker: 'Traveller', text: 'Of course. Here you go.' },
            { speaker: 'Attendant', text: 'Do you have any luggage to check in?' },
            { speaker: 'Traveller', text: 'Yes, this ', gap: { answer: 'suitcase', width: 100 }, textAfter: '.' },
            { speaker: 'Attendant', text: 'Would you prefer a ', gap: { answer: 'window seat', width: 130 }, textAfter: ' or an ', gap2: { answer: 'aisle seat', width: 130 }, textAfter2: '?' },
            { speaker: 'Traveller', text: 'Can ', gap: { answer: 'I have,I get', width: 80 }, textAfter: ' a window seat, please?' },
            { speaker: 'Attendant', text: 'Here\'s your ', gap: { answer: 'boarding pass', width: 120 }, textAfter: '. Boarding starts at 10:35. Gate C12.' },
            { speaker: 'Traveller', text: 'Great, thanks!' }
          ]
        },
        // Set 4 (Sydney flight)
        {
          conversation: [
            { speaker: 'Attendant', text: 'Hello. Checking in today?' },
            { speaker: 'Traveller', text: 'Yes, I\'d like to ', gap: { answer: 'check in', width: 100 }, textAfter: ' for Sydney.' },
            { speaker: 'Attendant', text: 'I will need your ', gap: { answer: 'passport', width: 100 }, textAfter: ', please.' },
            { speaker: 'Traveller', text: 'Here it is.' },
            { speaker: 'Attendant', text: 'Are you checking any bags today?' },
            { speaker: 'Traveller', text: 'Yes, one ', gap: { answer: 'suitcase', width: 100 }, textAfter: ', please.' },
            { speaker: 'Attendant', text: 'Do you want an ', gap: { answer: 'aisle seat', width: 130 }, textAfter: ' or a ', gap2: { answer: 'window seat', width: 130 }, textAfter2: '?' },
            { speaker: 'Traveller', text: "I'd ", gap: { answer: 'like', width: 60 }, textAfter: ' an aisle ', gap2: { answer: 'seat', width: 60 }, textAfter2: ', please.' },
            { speaker: 'Attendant', text: 'Here is your ', gap: { answer: 'boarding pass', width: 120 }, textAfter: '. Gate A15. Enjoy your flight!' },
            { speaker: 'Traveller', text: 'Thank you!' }
          ]
        }
      ];
      
      // MCQ question pool (20 questions total - 5 shown at a time)
      const mcqPool = [
        // Set 1 - varied answers
        { question: '"Take off your belt."', correctIndex: 0, images: ['belt.png', 'laptop.png', 'liquids.png'] },
        { question: '"Remove your laptop from your bag."', correctIndex: 1, images: ['shoes.png', 'laptop.png', 'suitcase.png'] },
        { question: '"Put your liquids in a clear plastic bag."', correctIndex: 2, images: ['passport.png', 'belt.png', 'liquids.png'] },
        { question: '"Take off your shoes."', correctIndex: 0, images: ['shoes.png', 'laptop.png', 'boarding-pass.png'] },
        { question: '"Scan your boarding pass here."', correctIndex: 1, images: ['gate.png', 'scan.png', 'passport.png'] },
        // Set 2 - different order
        { question: '"Take your laptop out of your bag."', correctIndex: 0, images: ['laptop.png', 'belt.png', 'shoes.png'] },
        { question: '"Please remove your shoes."', correctIndex: 2, images: ['liquids.png', 'suitcase.png', 'shoes.png'] },
        { question: '"Put your belt in the tray."', correctIndex: 1, images: ['laptop.png', 'belt.png', 'passport.png'] },
        { question: '"Show me your boarding pass."', correctIndex: 0, images: ['boarding-pass.png', 'gate.png', 'liquids.png'] },
        { question: '"All liquids must be in a plastic bag."', correctIndex: 2, images: ['shoes.png', 'belt.png', 'liquids.png'] },
        // Set 3 - more variety
        { question: '"Shoes go in the tray."', correctIndex: 1, images: ['belt.png', 'shoes.png', 'laptop.png'] },
        { question: '"Do you have any liquids?"', correctIndex: 0, images: ['liquids.png', 'passport.png', 'suitcase.png'] },
        { question: '"Laptops must be removed from bags."', correctIndex: 2, images: ['belt.png', 'shoes.png', 'laptop.png'] },
        { question: '"Please scan your pass at the gate."', correctIndex: 1, images: ['passport.png', 'scan.png', 'suitcase.png'] },
        { question: '"Remove your belt, please."', correctIndex: 0, images: ['belt.png', 'liquids.png', 'shoes.png'] },
        // Set 4 - mixed up
        { question: '"Put liquids in a small bag."', correctIndex: 1, images: ['belt.png', 'liquids.png', 'laptop.png'] },
        { question: '"Is there a laptop in your bag?"', correctIndex: 2, images: ['shoes.png', 'boarding-pass.png', 'laptop.png'] },
        { question: '"Take off your shoes, please."', correctIndex: 0, images: ['shoes.png', 'belt.png', 'liquids.png'] },
        { question: '"Have your boarding pass ready."', correctIndex: 2, images: ['suitcase.png', 'passport.png', 'boarding-pass.png'] },
        { question: '"Put your belt and shoes in the tray."', correctIndex: 1, images: ['laptop.png', 'belt.png', 'liquids.png'] }
      ];
      
      // Drag-drop sentence pool (20 sentences - 5 shown at a time)
      const dragDropPool = [
        // Set 1 - Check-in & Gate
        { words: ['gate', '?', 'Where', '15', 'is'], answer: 'Where is gate 15 ?' },
        { words: ['to', 'flight', '.', 'I', 'London', 'a', 'have'], answer: 'I have a flight to London .' },
        { words: ['for', 'this', '?', 'gate', 'Is', 'the', 'New York'], answer: 'Is this the gate for New York ?' },
        { words: ['?', 'have', 'seat', 'Can', 'window', 'a', 'I'], answer: 'Can I have a window seat ?' },
        { words: ['please', 'in', "I'd", '.', 'check', ',', 'to', 'like'], answer: "I'd like to check in , please ." },
        // Set 2 - Security & Directions
        { words: ['?', 'security', 'Where', 'is'], answer: 'Where is security ?' },
        { words: ['suitcase', 'one', '.', 'have', 'I'], answer: 'I have one suitcase .' },
        { words: ['seat', 'an', '?', 'I', 'aisle', 'have', 'Can'], answer: 'Can I have an aisle seat ?' },
        { words: ['me', ',', '?', 'Excuse', 'is', 'gate', 'B12', 'where'], answer: 'Excuse me , where is gate B12 ?' },
        { words: ['.', 'passport', 'is', 'my', 'Here'], answer: 'Here is my passport .' },
        // Set 3 - Terminal & Requests
        { words: ['terminal', 'is', '?', '2', 'Where'], answer: 'Where is terminal 2 ?' },
        { words: ['please', '.', 'pass', 'boarding', 'my', ',', 'is', 'Here'], answer: 'Here is my boarding pass , please .' },
        { words: ['?', 'the', 'gate', 'Is', 'Tokyo', 'for', 'this'], answer: 'Is this the gate for Tokyo ?' },
        { words: ['a', 'seat', "I'd", 'window', ',', 'like', 'please', '.'], answer: "I'd like a window seat , please ." },
        { words: ['.', 'Madrid', 'flight', 'a', 'have', 'to', 'I'], answer: 'I have a flight to Madrid .' },
        // Set 4 - Mixed Airport
        { words: ['?', 'gate', 'is', 'the', 'Where'], answer: 'Where is the gate ?' },
        { words: ['bags', '?', 'I', 'check', 'Can', 'my'], answer: 'Can I check my bags ?' },
        { words: ['Rome', '?', 'for', 'gate', 'Is', 'this', 'the'], answer: 'Is this the gate for Rome ?' },
        { words: ['check', '.', ',', 'like', 'to', "I'd", 'in', 'please'], answer: "I'd like to check in , please ." },
        { words: ['me', 'is', '?', 'Excuse', 'where', ',', 'security'], answer: 'Excuse me , where is security ?' }
      ];
      
      // ============================================
      // HELPER FUNCTIONS FOR QUESTION POOLS
      // ============================================
      
      // Shuffle array (Fisher-Yates)
      function shuffleArray(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
      }
      
      // Select random items from pool
      function selectRandomItems(pool, count) {
        const shuffled = shuffleArray(pool);
        return shuffled.slice(0, count);
      }
      
      // ============================================
      // GAP-FILL REGENERATION
      // ============================================
      
      function regenerateGapFill() {
        const container = document.getElementById('gap-fill-checkin');
        if (!container) return;
        
        // Select a random conversation
        const randomConvo = gapFillPools[Math.floor(Math.random() * gapFillPools.length)];
        
        // Build the HTML
        let html = '<h3>üß≥ At the Check-in Counter</h3>';
        html += '<p>Complete this conversation between a traveller and a check-in attendant.</p>';
        
        let questionNum = 1;
        let gapNum = 0;
        
        for (let i = 0; i < randomConvo.conversation.length; i++) {
          const line = randomConvo.conversation[i];
          
          if (line.gap || line.gap2) {
            html += `<div class="question" id="gf${questionNum}">`;
            questionNum++;
          }
          
          html += `<p class="gap-fill-sentence"><strong>${line.speaker}:</strong> `;
          
          if (line.gap) {
            gapNum++;
            html += line.text;
            html += `<input type="text" class="gap-input" data-answer="${line.gap.answer}" placeholder="..." style="width: ${line.gap.width}px;">`;
            
            if (line.gap2) {
              gapNum++;
              html += line.textAfter;
              html += `<input type="text" class="gap-input" data-answer="${line.gap2.answer}" placeholder="..." style="width: ${line.gap2.width}px;">`;
              html += line.textAfter2;
            } else {
              html += line.textAfter;
            }
          } else {
            html += line.text;
          }
          
          html += '</p>';
          
          if (line.gap || line.gap2) {
            html += '</div>';
          }
        }
        
        // Add control buttons
        html += `
          <div class="control-buttons">
            <button class="nav-button" id="gap-fill-prev" style="visibility:hidden;">‚Üê Previous</button>
            <button id="gap-fill-checkin-submit" class="submit-btn">Check Answers</button>
            <button id="gap-fill-checkin-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="gap-fill-next">Next ‚Üí</button>
          </div>
          <div class="score-display" id="gap-fill-checkin-score" style="display:none;">
            Your score: <span>0</span>/7
          </div>
        `;
        
        container.innerHTML = html;
        
        // Re-initialize gap fill
        GapFillModule.init({
          containerId: 'gap-fill-checkin',
          onComplete: function(score, total) {
            console.log('Gap fill completed:', score, '/', total);
          }
        });
        
        // Re-attach navigation
        document.getElementById('gap-fill-next').addEventListener('click', function() {
          document.querySelector('[data-activity="mcq"]').click();
        });
        
        // Override restart to regenerate questions
        const restartBtn = document.getElementById('gap-fill-checkin-restart');
        if (restartBtn) {
          restartBtn.addEventListener('click', function() {
            setTimeout(regenerateGapFill, 100);
          });
        }
      }
      
      // ============================================
      // MCQ REGENERATION
      // ============================================
      
      function regenerateMCQ() {
        const container = document.getElementById('mcq');
        if (!container) return;
        
        // Select 5 random questions
        const selectedQuestions = selectRandomItems(mcqPool, 5);
        
        // Build the HTML
        let html = '<h3>üîí At Security</h3>';
        html += '<p>At security, staff give instructions. Match each instruction to the correct picture.</p>';
        
        const answers = {};
        
        selectedQuestions.forEach((q, index) => {
          const qId = `q${index + 1}`;
          answers[qId] = q.correctIndex;
          
          html += `<div class="question" id="${qId}">`;
          html += `<p class="mcq-question">${index + 1}. ${q.question}</p>`;
          html += '<div class="options" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;">';
          
          q.images.forEach((img, imgIndex) => {
            html += `<div class="option" data-index="${imgIndex}" onclick="MCQModule.selectOption('${qId}', ${imgIndex})" style="text-align: center; padding: 15px;">`;
            html += `<img src="../../images/travel-beginner/unit1/lesson1/${img}" alt="${img.replace('.png', '')}" style="max-height: 60px; max-width: 100%;">`;
            html += '</div>';
          });
          
          html += '</div>';
          html += '<div class="feedback"></div>';
          html += '</div>';
        });
        
        // Add control buttons
        html += `
          <div class="control-buttons">
            <button class="nav-button" id="mcq-prev">‚Üê Previous</button>
            <button id="mcq-submit" class="submit-btn">Check Answers</button>
            <button id="mcq-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="mcq-next">Next ‚Üí</button>
          </div>
          <div class="score-display" id="mcq-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        `;
        
        container.innerHTML = html;
        
        // Re-initialize MCQ
        MCQModule.init({
          containerId: 'mcq',
          answers: answers,
          showAllQuestionsAtOnce: true,
          onComplete: function(score, total) {
            console.log('Security MCQ completed:', score, '/', total);
          }
        });
        
        // Clear any preselected options
        document.querySelectorAll('#mcq .option').forEach(function(option) {
          option.classList.remove('selected');
        });
        
        // Re-attach navigation
        document.getElementById('mcq-prev').addEventListener('click', function() {
          document.querySelector('[data-activity="gap-fill-checkin"]').click();
        });
        document.getElementById('mcq-next').addEventListener('click', function() {
          document.querySelector('[data-activity="drag-drop-boarding"]').click();
        });
        
        // Override restart to regenerate questions
        const restartBtn = document.getElementById('mcq-restart');
        if (restartBtn) {
          restartBtn.addEventListener('click', function() {
            setTimeout(regenerateMCQ, 100);
          });
        }
      }
      
      // ============================================
      // DRAG-DROP REGENERATION
      // ============================================
      
      function regenerateDragDrop() {
        const container = document.getElementById('drag-drop-boarding');
        if (!container) return;
        
        // Select 5 random sentences
        const selectedSentences = selectRandomItems(dragDropPool, 5);
        
        // Build the HTML
        let html = '<h3>‚úàÔ∏è At the Airport</h3>';
        html += '<p>Put the words in the correct order to make sentences you might say or hear at the airport.</p>';
        
        const answers = {};
        
        selectedSentences.forEach((s, index) => {
          const ddId = `dd${index + 1}`;
          answers[ddId] = s.answer;
          
          // Shuffle the words for display
          const shuffledWords = shuffleArray(s.words);
          
          html += `<div class="question" id="${ddId}">`;
          html += `<p class="question-text">${index + 1}.</p>`;
          html += '<div class="drop-zone"></div>';
          html += '<div class="drag-items">';
          
          shuffledWords.forEach(word => {
            html += `<div class="drag-item">${word}</div>`;
          });
          
          html += '</div></div>';
        });
        
        // Add control buttons
        html += `
          <div class="control-buttons">
            <button class="nav-button" id="drag-drop-prev">‚Üê Previous</button>
            <button id="drag-drop-boarding-submit" class="submit-btn">Check Answers</button>
            <button id="drag-drop-boarding-restart" class="restart-btn" style="display:none;">Try Again</button>
            <button class="nav-button" id="drag-drop-next" style="visibility:hidden;">Next ‚Üí</button>
          </div>
          <div class="score-display" id="drag-drop-boarding-score" style="display:none;">
            Your score: <span>0</span>/5
          </div>
        `;
        
        container.innerHTML = html;
        
        // Re-initialize Drag Drop
        DragDropModule.init({
          containerId: 'drag-drop-boarding',
          storageKey: 'travel-lesson1-boarding',
          answers: answers,
          onComplete: function(score, total) {
            console.log('Drag and drop completed:', score, '/', total);
          }
        });
        
        // Re-attach navigation
        document.getElementById('drag-drop-prev').addEventListener('click', function() {
          document.querySelector('[data-activity="mcq"]').click();
        });
        
        // Override restart to regenerate questions
        const restartBtn = document.getElementById('drag-drop-boarding-restart');
        if (restartBtn) {
          restartBtn.addEventListener('click', function() {
            setTimeout(regenerateDragDrop, 100);
          });
        }
      }
      
      // ============================================
      // INITIALIZE ALL MODULES
      // ============================================
      
      // Initialize Vocabulary Matching with Carousel
      VocabMatchModule.init({
        containerId: 'vocab-match',
        onComplete: function(score, total) {
          console.log('Vocabulary matching completed:', score, '/', total);
        }
      });
      
      // Initialize Flashcards
      FlashcardModule.init({
        containerId: 'flashcards'
      });
      
      // Initialize Gap Fill for Check-in conversation
      GapFillModule.init({
        containerId: 'gap-fill-checkin',
        onComplete: function(score, total) {
          console.log('Gap fill completed:', score, '/', total);
        }
      });
      
      // Override gap-fill restart button
      const gapFillRestart = document.getElementById('gap-fill-checkin-restart');
      if (gapFillRestart) {
        gapFillRestart.addEventListener('click', function() {
          setTimeout(regenerateGapFill, 100);
        });
      }
      
      // Initialize MCQ for Security
      MCQModule.init({
        containerId: 'mcq',
        answers: {
          'q1': 0,  // Belt
          'q2': 1,  // Laptop
          'q3': 0,  // Liquids
          'q4': 2,  // Shoes
          'q5': 1   // Scan
        },
        showAllQuestionsAtOnce: true,
        onComplete: function(score, total) {
          console.log('Security MCQ completed:', score, '/', total);
        }
      });
      
      // Clear any preselected MCQ options
      document.querySelectorAll('#mcq .option').forEach(function(option) {
        option.classList.remove('selected');
      });
      
      // Override MCQ restart button
      const mcqRestart = document.getElementById('mcq-restart');
      if (mcqRestart) {
        mcqRestart.addEventListener('click', function() {
          setTimeout(regenerateMCQ, 100);
        });
      }
      
      // Initialize Drag and Drop for Boarding
      DragDropModule.init({
        containerId: 'drag-drop-boarding',
        storageKey: 'travel-lesson1-boarding',
        answers: {
          'dd1': 'Where is gate 15 ?',
          'dd2': 'I have a flight to London .',
          'dd3': 'Is this the gate for New York ?',
          'dd4': 'Can I have a window seat ?',
          'dd5': "I'd like to check in , please ."
        },
        onComplete: function(score, total) {
          console.log('Drag and drop completed:', score, '/', total);
        }
      });
      
      // Override drag-drop restart button
      const dragDropRestart = document.getElementById('drag-drop-boarding-restart');
      if (dragDropRestart) {
        dragDropRestart.addEventListener('click', function() {
          setTimeout(regenerateDragDrop, 100);
        });
      }
      
      // Initialize Activity Navigation
      ActivityNavModule.init({
        containerId: 'activity-nav',
        activities: ['gap-fill-checkin', 'mcq', 'drag-drop-boarding'],
        onActivityChange: function(activityId) {
          console.log('Activity changed to:', activityId);
        }
      });
      
      // Set up navigation buttons for activities
      // Gap Fill navigation
      document.getElementById('gap-fill-next').addEventListener('click', function() {
        document.querySelector('[data-activity="mcq"]').click();
      });
      
      // MCQ navigation
      document.getElementById('mcq-prev').addEventListener('click', function() {
        document.querySelector('[data-activity="gap-fill-checkin"]').click();
      });
      document.getElementById('mcq-next').addEventListener('click', function() {
        document.querySelector('[data-activity="drag-drop-boarding"]').click();
      });
      
      // Drag Drop navigation
      document.getElementById('drag-drop-prev').addEventListener('click', function() {
        document.querySelector('[data-activity="mcq"]').click();
      });
      
    });
  </script>
</body>
</html>
