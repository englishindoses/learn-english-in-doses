<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Extra practice activities for all grammar topics - English in Doses">
  <title>Extra Practice Hub - English in Doses</title>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&family=Source+Code+Pro&display=swap" rel="stylesheet">
  
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- Base Styles -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/activities.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  
  <style>
    /* Extra Practice specific styles */
    .practice-container {
      max-width: 1280px;
      margin: 0 auto;
    }
    
    /* Search and Filter Section */
    .search-filter-section {
      background-color: var(--card-bg);
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 4px var(--shadow-color);
    }
    
    .search-row {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .search-input-container {
      flex-grow: 1;
      position: relative;
      min-width: 200px;
    }
    
    .search-input {
      width: 100%;
      padding: 10px 15px 10px 40px;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      font-size: 1rem;
      background-color: var(--bg-color);
      color: var(--text-color);
    }
    
    .search-icon {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-color);
      opacity: 0.6;
    }
    
    .filter-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .filter-select {
      padding: 10px 15px;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background-color: var(--bg-color);
      color: var(--text-color);
      min-width: 150px;
      font-size: 0.9rem;
    }
    
    /* Level Tabs */
    .level-tabs {
      display: flex;
      border-bottom: 2px solid var(--border-color);
      margin-bottom: 30px;
      overflow-x: auto;
      scroll-behavior: smooth;
    }
    
    .level-tab {
      padding: 12px 20px;
      font-weight: 600;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s;
      white-space: nowrap;
      color: var(--text-color);
    }
    
    .level-tab:hover {
      background-color: var(--card-bg);
    }
    
    .level-tab.active {
      border-bottom-color: var(--accent-color);
      color: var(--accent-color);
    }
    
    .level-tab.beginner.active {
      border-bottom-color: #4CAF50;
      color: #4CAF50;
    }
    
    .level-tab.intermediate.active {
      border-bottom-color: #FF9800;
      color: #FF9800;
    }
    
    .level-tab.advanced.active {
      border-bottom-color: #F44336;
      color: #F44336;
    }
    
    /* Practice Activities List */
    .practice-level-container {
      display: none;
    }
    
    .practice-level-container.active {
      display: block;
    }
    
    .practice-category {
      margin-bottom: 30px;
    }
    
    .category-title {
      font-size: 1.4rem;
      margin-bottom: 15px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--border-color);
    }
    
    .activity-cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .activity-card {
      background-color: var(--card-bg);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 3px 6px var(--shadow-color);
      transition: transform 0.3s, box-shadow 0.3s;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    
    .activity-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px var(--shadow-color);
    }
    
    .activity-header {
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border-color);
    }
    
    .activity-title {
      font-weight: 600;
      font-size: 1.1rem;
      margin: 0;
    }
    
    .activity-badge {
      font-size: 0.8rem;
      padding: 3px 8px;
      border-radius: 12px;
      background-color: var(--accent-color);
      color: white;
    }
    
    .activity-badge.mcq {
      background-color: #4CAF50;
    }
    
    .activity-badge.gap-fill {
      background-color: #2196F3;
    }
    
    .activity-badge.transformation {
      background-color: #9C27B0;
    }
    
    .activity-badge.matching {
      background-color: #FF9800;
    }
    
    .activity-badge.drag-drop {
      background-color: #E91E63;
    }
    
    .activity-content {
      padding: 15px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    
    .activity-description {
      margin-bottom: 15px;
      font-size: 0.95rem;
      flex-grow: 1;
    }
    
    .activity-meta {
      display: flex;
      justify-content: space-between;
      font-size: 0.85rem;
      color: var(--text-color);
      opacity: 0.8;
      margin-bottom: 15px;
    }
    
    .activity-time, .activity-difficulty {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .activity-link {
      text-align: center;
      background-color: var(--accent-color);
      color: white;
      padding: 8px 15px;
      border-radius: 4px;
      text-decoration: none;
      transition: background-color 0.3s;
      font-weight: 600;
      margin-top: auto;
    }
    
    .activity-link:hover {
      background-color: #2980b9;
      text-decoration: none;
    }
    
    /* No results message */
    .no-results {
      text-align: center;
      padding: 40px 20px;
      background-color: var(--card-bg);
      border-radius: 8px;
      margin: 30px 0;
      display: none;
    }
    
    .no-results-icon {
      font-size: 3rem;
      margin-bottom: 20px;
      opacity: 0.7;
    }
    
    /* Pagination */
    .pagination {
      display: flex;
      justify-content: center;
      margin-top: 30px;
      gap: 5px;
    }
    
    .page-link {
      padding: 8px 15px;
      border-radius: 4px;
      background-color: var(--card-bg);
      color: var(--text-color);
      text-decoration: none;
      transition: background-color 0.3s;
    }
    
    .page-link:hover, .page-link.active {
      background-color: var(--accent-color);
      color: white;
      text-decoration: none;
    }
    
    /* NEW: Last Activity Summary */
    .last-activity-summary {
      background-color: var(--card-bg);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 4px 8px var(--shadow-color);
      border-left: 5px solid var(--accent-color);
    }
    
    .last-activity-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }
    
    .last-activity-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin: 0 0 5px 0;
    }
    
    .last-activity-details {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .activity-info {
      flex-grow: 1;
    }
    
    .activity-name {
      font-weight: 600;
      margin-bottom: 5px;
    }
    
    .activity-date {
      font-size: 0.85rem;
      opacity: 0.7;
    }
    
    .activity-score {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .score-display {
      background-color: var(--bg-color);
      padding: 10px 15px;
      border-radius: 30px;
      font-weight: 600;
    }
    
    .score-perfect {
      background-color: #4caf5026;
      color: #4CAF50;
    }
    
    .score-good {
      background-color: #ff980026;
      color: #FF9800;
    }
    
    .score-needs-work {
      background-color: #f4433626;
      color: #F44336;
    }
    
    .action-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .action-button {
      padding: 8px 15px;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 600;
      text-align: center;
      flex-grow: 1;
      transition: all 0.3s;
    }
    
    .primary-action {
      background-color: var(--accent-color);
      color: white;
    }
    
    .primary-action:hover {
      background-color: #2980b9;
      text-decoration: none;
      color: white;
    }
    
    .secondary-action {
      background-color: transparent;
      border: 1px solid var(--border-color);
      color: var(--text-color);
    }
    
    .secondary-action:hover {
      background-color: var(--bg-color);
      text-decoration: none;
    }
    
    /* NEW: Quick Challenge Box */
    .quick-challenge-box {
      background: linear-gradient(135deg, #3a6186 0%, #89253e 100%);
      color: white;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 4px 8px var(--shadow-color);
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    
    .challenge-info {
      flex: 1;
      min-width: 220px;
    }
    
    .challenge-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin: 0 0 10px 0;
    }
    
    .challenge-desc {
      opacity: 0.9;
      margin-bottom: 15px;
    }
    
    .challenge-meta {
      display: flex;
      gap: 15px;
      font-size: 0.9rem;
      opacity: 0.8;
      margin-bottom: 15px;
    }
    
    .challenge-button {
      background-color: white;
      color: #3a6186;
      padding: 10px 20px;
      border-radius: 4px;
      font-weight: 600;
      text-decoration: none;
      display: inline-block;
      transition: all 0.3s;
    }
    
    .challenge-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      text-decoration: none;
    }
    
    .challenge-timer {
      flex: 0 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 15px;
      background-color: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
    }
    
    .timer-value {
      font-size: 2.5rem;
      font-weight: 700;
      line-height: 1;
      margin-bottom: 5px;
    }
    
    .timer-label {
      font-size: 0.9rem;
      opacity: 0.8;
    }
    
    /* NEW: Recommendation Box */
    .recommendation-box {
      background-color: var(--card-bg);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 4px 8px var(--shadow-color);
    }
    
    .recommendation-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .recommendation-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin: 0;
    }
    
    .recommendation-activity {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .activity-icon {
      font-size: 1.8rem;
      color: var(--accent-color);
      flex-shrink: 0;
    }
    
    .activity-details {
      flex-grow: 1;
    }
    
    .progress-bar-container {
      height: 10px;
      background-color: var(--progress-bg);
      border-radius: 5px;
      overflow: hidden;
      margin: 15px 0;
    }
    
    .progress-bar-fill {
      height: 100%;
      background-color: var(--accent-color);
      width: 35%;
    }
    
    .progress-text {
      font-size: 0.85rem;
      opacity: 0.7;
      margin-bottom: 15px;
    }
    
    /* NEW: Latest Achievement Box */
    .achievement-box {
      background-color: #f3e5f5;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 4px 8px var(--shadow-color);
      border-left: 5px solid #9C27B0;
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    [data-theme="dark"] .achievement-box {
      background-color: #2a1e2f;
    }
    
    .achievement-icon {
      font-size: 2.5rem;
      color: #9C27B0;
    }
    
    .achievement-content {
      flex-grow: 1;
    }
    
    .achievement-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #9C27B0;
      margin: 0 0 5px 0;
    }
    
    .achievement-desc {
      margin-bottom: 10px;
    }
    
    .achievement-date {
      font-size: 0.85rem;
      opacity: 0.7;
    }
    
    .achievement-share {
      background-color: #9C27B0;
      color: white;
      padding: 8px 15px;
      border-radius: 4px;
      text-decoration: none;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: background-color 0.3s;
      margin-top: 10px;
    }
    
    .achievement-share:hover {
      background-color: #7B1FA2;
      text-decoration: none;
      color: white;
    }
    
    /* NEW: Grammar in Context Box */
    .grammar-context-box {
      background-color: #e8f5e9;
      border-radius: 8px;
      padding: 20px;
      margin: 30px 0;
      box-shadow: 0 4px 8px var(--shadow-color);
      border-left: 5px solid #4CAF50;
    }
    
    [data-theme="dark"] .grammar-context-box {
      background-color: #1e2f1e;
    }
    
    .context-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .context-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #4CAF50;
      margin: 0;
    }
    
    .refresh-button {
      background: none;
      border: none;
      color: #4CAF50;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.9rem;
      transition: opacity 0.3s;
    }
    
    .refresh-button:hover {
      opacity: 0.8;
    }
    
    .context-quote {
      background-color: white;
      padding: 15px;
      border-radius: 4px;
      margin-bottom: 15px;
      position: relative;
      font-style: italic;
    }
    
    [data-theme="dark"] .context-quote {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .context-quote::before {
      content: '"';
      position: absolute;
      left: 5px;
      top: 0;
      font-size: 2rem;
      color: #4CAF50;
      opacity: 0.3;
    }
    
    .context-quote::after {
      content: '"';
      position: absolute;
      right: 5px;
      bottom: -10px;
      font-size: 2rem;
      color: #4CAF50;
      opacity: 0.3;
    }
    
    .highlighted-grammar {
      font-weight: 600;
      color: #4CAF50;
      text-decoration: underline;
      text-decoration-color: rgba(76, 175, 80, 0.4);
      text-decoration-thickness: 2px;
      text-underline-offset: 3px;
    }
    
    .context-source {
      font-size: 0.9rem;
      opacity: 0.7;
      text-align: right;
    }
    
    .context-explanation {
      margin-top: 15px;
      font-size: 0.95rem;
    }
    
    /* Responsive Styles */
    @media (max-width: 768px) {
      .search-row, .filter-container {
        flex-direction: column;
        gap: 10px;
      }
      
      .level-tab {
        padding: 10px 15px;
        font-size: 0.9rem;
      }
      
      .activity-cards {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
      
      .last-activity-details {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
      
      .activity-score {
        width: 100%;
        justify-content: space-between;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .challenge-timer {
        width: 100%;
      }
    }
    
    @media (max-width: 480px) {
      .activity-cards {
        grid-template-columns: 1fr;
      }
      
      .activity-meta {
        flex-direction: column;
        gap: 5px;
        align-items: flex-start;
      }
      
      .level-tabs {
        justify-content: flex-start;
      }
    }
  </style>
</head>
<body>
  <!-- Skip link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to content</a>
  
  <!-- Theme toggle button -->
  <div class="theme-toggle-container">
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
      <span class="light-icon">☀️</span>
      <span class="dark-icon">🌙</span>
    </button>
  </div>
  
  <!-- Main navigation -->
  <nav class="main-navigation">
    <a href="home.html" class="site-logo">
      <img src="images/my-logo.svg" alt="English in Doses" width="150" height="auto">
    </a>
    <button class="nav-toggle" aria-label="Toggle navigation">☰</button>
    <div class="nav-links">
      <a href="home.html" class="nav-link">Home</a>
      <a href="about.html" class="nav-link">About Us</a>
      <a href="contact.html" class="nav-link">Contact Us</a>
      <a href="home.html#where-to-start" class="nav-link">Grammar</a>
      <a href="extra-practice.html" class="nav-link active" aria-current="page">Extra Practice</a>
      <a href="conversation-page.html" class="nav-link">Conversation</a>
      <a href="my-progress.html" class="nav-link">My Progress</a>
    </div>
  </nav>

  <div class="container">
    <!-- Breadcrumbs -->
    <div class="breadcrumbs" aria-label="breadcrumb">
      <span class="breadcrumb-item"><a href="home.html">Home</a></span>
      <span class="breadcrumb-separator">›</span>
      <span class="breadcrumb-item">Extra Practice</span>
    </div>

    <main id="main-content" class="practice-container">
      <h1>Extra Practice Hub</h1>
      
      <section class="intro-section">
        <p>Welcome to our Extra Practice Hub! Here you'll find additional activities to help you master English grammar. Choose from different types of exercises based on your level and the specific grammar topics you want to practice.</p>
      </section>
      
      <!-- NEW: Last Activity Summary Box -->
      <section class="last-activity-summary" id="last-activity-box">
        <div class="last-activity-header">
          <h2 class="last-activity-title">Your Last Activity</h2>
          <a href="my-progress.html" class="view-all-link">View all activity →</a>
        </div>
        
        <div class="last-activity-details">
          <div class="activity-info">
            <div class="activity-name">Present Perfect Progressive Quiz</div>
            <div class="activity-date">Completed today at 10:45 AM</div>
          </div>
          
          <div class="activity-score">
            <div class="score-display score-good">8/10 Correct</div>
          </div>
        </div>
        
        <div class="action-buttons">
          <a href="grammar/advanced/present-perfect-progressive.html" class="action-button secondary-action">Review Grammar</a>
          <a href="practice/advanced/present-perfect-progressive-mcq.html" class="action-button secondary-action">Retry Activity</a>
          <a href="practice/advanced/present-perfect-progressive-transformation.html" class="action-button primary-action">Try Different Exercise</a>
        </div>
      </section>
      
      <!-- NEW: Quick Challenge Box -->
      <section class="quick-challenge-box">
        <div class="challenge-info">
          <h2 class="challenge-title">2-Minute Challenge</h2>
          <p class="challenge-desc">How many modal perfect forms can you identify correctly in 2 minutes? Test your speed and accuracy!</p>
          
          <div class="challenge-meta">
            <span><i class="fa fa-bolt"></i> 10 questions</span>
            <span><i class="fa fa-bar-chart"></i> Adaptive difficulty</span>
          </div>
          
          <a href="practice/challenges/modal-perfect-speed.html" class="challenge-button">Start Challenge</a>
        </div>
        
        <div class="challenge-timer">
          <div class="timer-value">2:00</div>
          <div class="timer-label">minutes</div>
        </div>
      </section>
      
      <!-- NEW: Smart Recommendation Box -->
      <section class="recommendation-box">
        <div class="recommendation-header">
          <h2 class="recommendation-title">Recommended For You</h2>
        </div>
        
        <div class="recommendation-activity">
          <div class="activity-icon"><i class="fa fa-lightbulb-o"></i></div>
          <div class="activity-details">
            <h3 class="activity-name">Past Perfect Progressive Practice</h3>
            <p class="activity-description">Based on your performance, we recommend strengthening your understanding of past perfect progressive tense.</p>
            
            <div class="progress-bar-container">
              <div class="progress-bar-fill"></div>
            </div>
            <div class="progress-text">Currently at 35% mastery</div>
            
            <a href="practice/advanced/past-perfect-progressive-gap-fill.html" class="activity-link">Start Practice</a>
          </div>
        </div>
      </section>
      
      <!-- NEW: Latest Achievement Box -->
      <section class="achievement-box" id="achievement-box">
        <div class="achievement-icon">🏆</div>
        <div class="achievement-content">
          <h2 class="achievement-title">Present Perfect Master</h2>
          <p class="achievement-desc">You've completed 5 different Present Perfect activities with scores above 80%!</p>
          <div class="achievement-date">Unlocked yesterday</div>
          
          <a href="#" class="achievement-share" id="share-achievement">
            <i class="fa fa-share-alt"></i> Share Achievement
          </a>
        </div>
      </section>
      
      <!-- Search and Filter Section -->
      <section class="search-filter-section">
        <div class="search-row">
          <div class="search-input-container">
            <i class="fa fa-search search-icon"></i>
            <input type="text" class="search-input" placeholder="Search for a grammar topic..." id="activity-search">
          </div>
        </div>
        
        <div class="filter-container">
          <select class="filter-select" id="activity-type-filter">
            <option value="">All Activity Types</option>
            <option value="mcq">Multiple Choice</option>
            <option value="gap-fill">Gap Fill</option>
            <option value="transformation">Sentence Transformation</option>
            <option value="matching">Matching Exercise</option>
            <option value="drag-drop">Drag and Drop</option>
          </select>
          
          <select class="filter-select" id="difficulty-filter">
            <option value="">All Difficulties</option>
            <option value="easy">Easy</option>
            <option value="medium">Medium</option>
            <option value="hard">Hard</option>
          </select>
          
          <select class="filter-select" id="time-filter">
            <option value="">Any Length</option>
            <option value="short">Quick (< 5 min)</option>
            <option value="medium">Medium (5-10 min)</option>
            <option value="long">Extended (> 10 min)</option>
          </select>
          
          <select class="filter-select" id="topic-filter">
            <option value="">All Topics</option>
            <option value="tenses">Tenses</option>
            <option value="conditionals">Conditionals</option>
            <option value="modals">Modal Verbs</option>
            <option value="passive">Passive Voice</option>
            <option value="articles">Articles</option>
            <option value="prepositions">Prepositions</option>
          </select>
        </div>
      </section>
      
      <!-- Level Tabs -->
      <div class="level-tabs">
        <div class="level-tab beginner active" data-level="beginner">Beginner</div>
        <div class="level-tab intermediate" data-level="intermediate">Intermediate</div>
        <div class="level-tab advanced" data-level="advanced">Advanced</div>
        <div class="level-tab" data-level="mixed">Mixed Levels</div>
      </div>
      
      <!-- No Results Message (initially hidden) -->
      <div class="no-results" id="no-results">
        <div class="no-results-icon"><i class="fa fa-search"></i></div>
        <h2>No matching activities found</h2>
        <p>Try adjusting your search or filters to find activities.</p>
      </div>
      
      <!-- NEW: Grammar in Context Box -->
      <section class="grammar-context-box">
        <div class="context-header">
          <h2 class="context-title">Grammar in Real Life: Present Perfect Progressive</h2>
          <button class="refresh-button"><i class="fa fa-refresh"></i> New Example</button>
        </div>
        
        <div class="context-quote">
          Scientists <span class="highlighted-grammar">have been studying</span> the effects of climate change on coral reefs for decades, and their research <span class="highlighted-grammar">has been showing</span> increasingly concerning results.
        </div>
        
        <div class="context-source">
          - From a National Geographic article (2023)
        </div>
        
        <div class="context-explanation">
          <p>The phrases "have been studying" and "has been showing" use the <strong>Present Perfect Progressive</strong> tense. This tense emphasizes both:</p>
          <ul>
            <li>The ongoing nature of the research (it continues into the present)</li>
            <li>The duration of the activity (for decades)</li>
          </ul>
          <p>This gives readers a sense of continuous, long-term scientific work rather than a one-time or completed study.</p>
        </div>
      </section>
      
      <!-- Beginner Level Activities -->
      <div class="practice-level-container active" id="beginner-activities">
        <!-- Present Simple Category -->
        <div class="practice-category">
          <h2 class="category-title">Present Simple</h2>
          <div class="activity-cards">
            <!-- Activity 1 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Daily Routines</h3>
                <span class="activity-badge mcq">MCQ</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Practice using Present Simple to talk about habits and daily routines. Choose the correct verb forms in various contexts.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 5 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Easy</span>
                </div>
                <a href="practice/beginner/present-simple-mcq.html" class="activity-link">Start Activity</a>
              </div>
            </div>
            
            <!-- Activity 2 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Present Simple Questions</h3>
                <span class="activity-badge gap-fill">Gap Fill</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Complete sentences by filling in the correct form of the verbs to create questions in the Present Simple tense.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 7 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Medium</span>
                </div>
                <a href="practice/beginner/present-simple-gap-fill.html" class="activity-link">Start Activity</a>
              </div>
            </div>
            
            <!-- Activity 3 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Frequency Adverbs</h3>
                <span class="activity-badge drag-drop">Drag & Drop</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Practice placing frequency adverbs in the correct position in Present Simple sentences by dragging and dropping them.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 6 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Easy</span>
                </div>
                <a href="practice/beginner/frequency-adverbs-drag.html" class="activity-link">Start Activity</a>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Past Simple Category -->
        <div class="practice-category">
          <h2 class="category-title">Past Simple</h2>
          <div class="activity-cards">
            <!-- Activity 1 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Regular vs Irregular Verbs</h3>
                <span class="activity-badge matching">Matching</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Match base forms of verbs with their correct Past Simple forms, focusing on both regular and irregular verb patterns.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 8 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Medium</span>
                </div>
                <a href="practice/beginner/past-simple-matching.html" class="activity-link">Start Activity</a>
              </div>
            </div>
            
            <!-- Activity 2 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Past Simple Story</h3>
                <span class="activity-badge gap-fill">Gap Fill</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Complete a short story by filling in the blanks with the Past Simple form of the verbs provided in brackets.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 10 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Medium</span>
                </div>
                <a href="practice/beginner/past-simple-story.html" class="activity-link">Start Activity</a>
              </div>
            </div>
            
            <!-- Activity 3 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Past Simple Questions</h3>
                <span class="activity-badge transformation">Transformation</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Transform affirmative statements into questions and negative sentences using the Past Simple tense.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 7 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Hard</span>
                </div>
                <a href="practice/beginner/past-simple-transformation.html" class="activity-link">Start Activity</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Intermediate Level Activities (initially hidden) -->
      <div class="practice-level-container" id="intermediate-activities">
        <!-- Present Perfect Category -->
        <div class="practice-category">
          <h2 class="category-title">Present Perfect</h2>
          <div class="activity-cards">
            <!-- Activity 1 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Present Perfect vs Past Simple</h3>
                <span class="activity-badge mcq">MCQ</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Choose between Present Perfect and Past Simple in various sentences, focusing on the differences in meaning and usage.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 8 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Medium</span>
                </div>
                <a href="practice/intermediate/present-perfect-vs-past-simple.html" class="activity-link">Start Activity</a>
              </div>
            </div>
            
            <!-- Activity 2 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">For & Since</h3>
                <span class="activity-badge gap-fill">Gap Fill</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Complete sentences using 'for' or 'since' with the Present Perfect tense to express how long something has been happening.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 6 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Medium</span>
                </div>
                <a href="practice/intermediate/for-since-gap-fill.html" class="activity-link">Start Activity</a>
              </div>
            </div>
            
            <!-- Activity 3 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Present Perfect Story</h3>
                <span class="activity-badge gap-fill">Gap Fill</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Complete a story by filling in the blanks with the Present Perfect form of the verbs. Understand when to use this tense in context.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 12 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Hard</span>
                </div>
                <a href="practice/intermediate/present-perfect-story.html" class="activity-link">Start Activity</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Advanced Level Activities (initially hidden) -->
      <div class="practice-level-container" id="advanced-activities">
        <!-- Perfect Tenses Category -->
        <div class="practice-category">
          <h2 class="category-title">Perfect Tenses</h2>
          <div class="activity-cards">
            <!-- Activity 1 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Present Perfect Progressive</h3>
                <span class="activity-badge mcq">MCQ</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Choose between Present Perfect Simple and Present Perfect Progressive, understanding the subtle differences in meaning.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 8 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Hard</span>
                </div>
                <a href="practice/advanced/present-perfect-progressive-mcq.html" class="activity-link">Start Activity</a>
              </div>
            </div>
            
            <!-- Activity 2 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Past Perfect Simple & Progressive</h3>
                <span class="activity-badge gap-fill">Gap Fill</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Fill in the blanks with either Past Perfect Simple or Progressive forms, focusing on the differences in usage and meaning.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 10 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Hard</span>
                </div>
                <a href="practice/advanced/past-perfect-gap-fill.html" class="activity-link">Start Activity</a>
              </div>
            </div>
            
            <!-- Activity 3 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Future Perfect Forms</h3>
                <span class="activity-badge transformation">Transformation</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Transform sentences into Future Perfect Simple or Future Perfect Progressive, understanding time expressions and context.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 12 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Hard</span>
                </div>
                <a href="practice/advanced/future-perfect-transformation.html" class="activity-link">Start Activity</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Mixed Levels Activities (initially hidden) -->
      <div class="practice-level-container" id="mixed-activities">
        <!-- Prepositions Category -->
        <div class="practice-category">
          <h2 class="category-title">Prepositions</h2>
          <div class="activity-cards">
            <!-- Activity 1 -->
            <div class="activity-card">
              <div class="activity-header">
                <h3 class="activity-title">Prepositions of Time</h3>
                <span class="activity-badge mcq">MCQ</span>
              </div>
              <div class="activity-content">
                <p class="activity-description">Practice using prepositions of time (in, on, at) correctly in various contexts.</p>
                <div class="activity-meta">
                  <span class="activity-time"><i class="fa fa-clock-o"></i> 5 min</span>
                  <span class="activity-difficulty"><i class="fa fa-bar-chart"></i> Easy</span>
                </div>
                <a href="practice/mixed/prepositions-time-mcq.html" class="activity-link">Start Activity</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Pagination -->
      <div class="pagination">
        <a href="#" class="page-link active">1</a>
        <a href="#" class="page-link">2</a>
        <a href="#" class="page-link">3</a>
        <a href="#" class="page-link">Next »</a>
      </div>
    </main>
  </div>
  
  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="home.html">Home</a></li>
          <li><a href="home.html#where-to-start">Grammar</a></li>
          <li><a href="extra-practice.html">Extra Practice</a></li>
          <li><a href="my-progress.html">My Progress</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Grammar Topics</h3>
        <ul>
          <li><a href="grammar/advanced/advanced-grammar.html#advanced-tenses-and-aspect">Advanced Tenses</a></li>
          <li><a href="grammar/advanced/advanced-grammar.html#conditionals">Advanced Conditionals</a></li>
          <li><a href="grammar/advanced/advanced-grammar.html#modals">Advanced Modal Verbs</a></li>
          <li><a href="grammar/advanced/advanced-grammar.html#passive">Advanced Passive Voice</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Connect</h3>
        <ul>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>© 2025 English in Doses | All rights reserved | <a href="license.html">Licensing Information</a></p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="js/core.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Level tab functionality
      const levelTabs = document.querySelectorAll('.level-tab');
      const levelContainers = document.querySelectorAll('.practice-level-container');
      
      levelTabs.forEach(tab => {
        tab.addEventListener('click', function() {
          // Update active tab
          levelTabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          
          // Show corresponding content
          const level = this.getAttribute('data-level');
          levelContainers.forEach(container => {
            container.classList.remove('active');
          });
          document.getElementById(level + '-activities').classList.add('active');
          
          // Update URL hash
          history.pushState(null, null, '#' + level);
        });
      });
      
      // Check URL hash on page load
      if (location.hash) {
        const level = location.hash.substring(1);
        const tab = document.querySelector(`.level-tab[data-level="${level}"]`);
        if (tab) {
          tab.click();
        }
      }
      
      // Search functionality
      const searchInput = document.getElementById('activity-search');
      const filterType = document.getElementById('activity-type-filter');
      const filterDifficulty = document.getElementById('difficulty-filter');
      const filterTime = document.getElementById('time-filter');
      const filterTopic = document.getElementById('topic-filter');
      const noResults = document.getElementById('no-results');
      
      // Combined filter function
      function filterActivities() {
        const searchTerm = searchInput.value.toLowerCase();
        const typeFilter = filterType.value;
        const difficultyFilter = filterDifficulty.value;
        const timeFilter = filterTime.value;
        const topicFilter = filterTopic.value;
        
        let hasResults = false;
        
        // Get all activity cards that are in the currently visible level
        const activeLevel = document.querySelector('.practice-level-container.active');
        const activityCards = activeLevel.querySelectorAll('.activity-card');
        
        activityCards.forEach(card => {
          const title = card.querySelector('.activity-title').textContent.toLowerCase();
          const description = card.querySelector('.activity-description').textContent.toLowerCase();
          const type = card.querySelector('.activity-badge').classList[1];
          const difficulty = card.querySelector('.activity-difficulty').textContent.toLowerCase();
          const time = card.querySelector('.activity-time').textContent.toLowerCase();
          
          // Get parent category for topic filter
          const category = card.closest('.practice-category').querySelector('.category-title').textContent.toLowerCase();
          
          // Check all filter conditions
          const matchesSearch = searchTerm === '' || 
            title.includes(searchTerm) || 
            description.includes(searchTerm);
          
          const matchesType = typeFilter === '' || type.includes(typeFilter);
          
          const matchesDifficulty = difficultyFilter === '' || 
            (difficultyFilter === 'easy' && difficulty.includes('easy')) ||
            (difficultyFilter === 'medium' && difficulty.includes('medium')) ||
            (difficultyFilter === 'hard' && difficulty.includes('hard'));
          
          const matchesTime = timeFilter === '' || 
            (timeFilter === 'short' && parseInt(time.match(/\d+/)[0]) < 5) ||
            (timeFilter === 'medium' && parseInt(time.match(/\d+/)[0]) >= 5 && parseInt(time.match(/\d+/)[0]) <= 10) ||
            (timeFilter === 'long' && parseInt(time.match(/\d+/)[0]) > 10);
          
          const matchesTopic = topicFilter === '' || category.includes(topicFilter);
          
          // Show or hide the card based on filters
          if (matchesSearch && matchesType && matchesDifficulty && matchesTime && matchesTopic) {
            card.style.display = 'flex';
            hasResults = true;
          } else {
            card.style.display = 'none';
          }
        });
        
        // For each category, hide it if all its cards are hidden
        const categories = activeLevel.querySelectorAll('.practice-category');
        categories.forEach(category => {
          const visibleCards = category.querySelectorAll('.activity-card[style="display: flex;"]');
          category.style.display = visibleCards.length > 0 ? 'block' : 'none';
        });
        
        // Show or hide the "no results" message
        noResults.style.display = hasResults ? 'none' : 'block';
      }
      
      // Attach event listeners to all filter controls
      [searchInput, filterType, filterDifficulty, filterTime, filterTopic].forEach(filter => {
        filter.addEventListener('input', filterActivities);
        filter.addEventListener('change', filterActivities);
      });
      
      // Share achievement functionality
      const shareButton = document.getElementById('share-achievement');
      if (shareButton) {
        shareButton.addEventListener('click', function(e) {
          e.preventDefault();
          
          // Check if Web Share API is available
          if (navigator.share) {
            navigator.share({
              title: 'I earned the Present Perfect Master badge!',
              text: 'I just earned the Present Perfect Master badge on English in Doses after completing 5 different Present Perfect activities with scores above 80%!',
              url: window.location.href
            })
            .catch(err => {
              console.log('Error sharing:', err);
              // Fallback - open in new window
              window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent('I just earned the Present Perfect Master badge on English in Doses!'), '_blank');
            });
          } else {
            // Fallback for browsers that don't support Web Share API
            window.open('https://twitter.com/intent/tweet?text=' + encodeURIComponent('I just earned the Present Perfect Master badge on English in Doses!'), '_blank');
          }
        });
      }
      
      // Check for user's progress data
      function initializeUserData() {
        if (typeof localStorage !== 'undefined') {
          try {
            const progressData = JSON.parse(localStorage.getItem('esl-progress-data'));
            const lastActivityBox = document.getElementById('last-activity-box');
            
            // If no progress data or no completed activities, hide the last activity box
            if (!progressData || !progressData.activities || Object.keys(progressData.activities).filter(key => progressData.activities[key].completed).length === 0) {
              lastActivityBox.style.display = 'none';
              document.getElementById('achievement-box').style.display = 'none';
              return;
            }
            
            // Otherwise, show real data if available
            // This part would be expanded in a real implementation to show actual user data
            // For now, we're showing the mock data already in the HTML
          } catch (error) {
            console.error('Error loading progress data:', error);
            // Hide personal sections if there's an error
            document.getElementById('last-activity-box').style.display = 'none';
            document.getElementById('achievement-box').style.display = 'none';
          }
        }
      }
      
      // Initialize user data on page load
      initializeUserData();
    });
  </script>
</body>
</html>
