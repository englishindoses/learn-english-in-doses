<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Standard head content -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Mixed Time Frames with Perfect Tenses - Advanced ESL grammar explanation with examples and practice">
  <title>Mixed Time Frames with Perfect Tenses - Advanced ESL Grammar</title>
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&family=Source+Code+Pro&display=swap" rel="stylesheet">
  
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../images//favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../images//favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- Styles -->
  <link rel="stylesheet" href="../../css/base.css">
  <link rel="stylesheet" href="../../css/activities.css">
  <link rel="stylesheet" href="../../css/progress-tracking-styles.css">

  <!-- No additional styles needed as they are provided by activities.css -->
      padding: 8px 12px;
      border: 1px solid var(--border-color, #ddd);
      border-radius: 4px;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
    }
    
    .option:hover {
      background-color: var(--mcq-hover-bg, #d0e6f7);
      transform: translateY(-1px);
    }
    
    .option.selected {
      background-color: var(--mcq-selected-bg, #d0e6f7);
      border: 2px solid var(--mcq-selected-border, #3498db);
      font-weight: bold;
    }
    
    [data-theme="dark"] .option:hover {
      background-color: var(--mcq-hover-bg, #253545);
    }
    
    [data-theme="dark"] .option.selected {
      background-color: var(--mcq-selected-bg, #253545);
      border-color: var(--mcq-selected-border, #4fa3e0);
    }
    
    /* Highlighting for grammar structures */
    .grammar-highlight {
      font-weight: bold;
      color: var(--accent-color, #3498db);
    }
  </style>
</head>
<body>
  <!-- Skip link and theme toggle -->
  <a href="#main-content" class="skip-link">Skip to content</a>
  
  <div class="theme-toggle-container">
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
      <span class="light-icon">‚òÄÔ∏è</span>
      <span class="dark-icon">üåô</span>
    </button>
  </div>
  
  <!-- Navigation -->
  <nav class="main-navigation">
    <a href="../../home.html" class="site-logo">
      <img src="../../images/my-logo.svg" alt="English in Doses" width="150" height="auto">
    </a>
    <button class="nav-toggle" aria-label="Toggle navigation">‚ò∞</button>
    <div class="nav-links">
      <a href="../../home.html" class="nav-link">Home</a>
      <a href="../../about.html" class="nav-link">About Us</a>
      <a href="../../contact.html" class="nav-link">Contact Us</a>
      <a href="../../home.html#where-to-start" class="nav-link">Grammar</a>
      <a href="../../extra-practice.html" class="nav-link">Extra Practice</a>
      <a href="../../conversation-page.html" class="nav-link">Conversation</a>
      <a href="../../my-progress.html" class="nav-link">My Progress</a>
    </div>

    <div class="advanced-nav-indicator"></div>
  </nav>

  <div class="container">
    <!-- Breadcrumbs -->
    <div class="breadcrumbs" aria-label="breadcrumb">
      <span class="breadcrumb-item"><a href="../../home.html">Home</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item"><a href="advanced-grammar.html">Advanced Grammar</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item"><a href="advanced-grammar.html#advanced-tenses-and-aspect">Advanced Tenses</a></span>
      <span class="breadcrumb-separator">‚Ä∫</span>
      <span class="breadcrumb-item">Mixed Time Frames with Perfect Tenses</span>
    </div>

    <main id="main-content">
      <h1>Mixed Time Frames with Perfect Tenses</h1>

      <!-- INTRODUCTION SECTION -->
      <section class="intro-section">
        <h2>Introduction</h2>
        <p>Perfect tenses in English allow us to connect different time frames and show how events relate to each other. Mastering the art of mixing time frames with perfect tenses will give your English a sophisticated, native-like quality and help you express complex ideas more precisely.</p>
        
        <h3>After this lesson, you will be able to:</h3>
        <ul>
          <li>Connect past, present, and future time frames in complex sentences.</li>
          <li>Express how events in different time periods relate to each other.</li>
          <li>Use perfect tenses to show sequence, cause and effect, and continuity across different time frames.</li>
        </ul>
      </section>

      <!-- GRAMMAR POINT SECTION 1 -->
      <section class="grammar-point" id="grammar-summary">
        <h2>Connecting Past and Present with Perfect Tenses</h2>
        
        <p><strong>Form</strong>: Present Perfect (have/has + past participle) to connect past events with the present</p>
        
        <p><strong>When to use it</strong>: Use the present perfect to show how past actions or events affect or are relevant to the present moment. This creates a connection between two time frames.</p>
        
        <div class="example">
          <ol>
            <li><span class="grammar-highlight">I have worked</span> on this project for three months, so I <span class="grammar-highlight">understand</span> all its complexities. (Past work ‚Üí present understanding)</li>
            <li><span class="grammar-highlight">She has lived</span> in London since 2019, and she <span class="grammar-highlight">still enjoys</span> discovering new parts of the city. (Past to present continuous living)</li>
            <li><span class="grammar-highlight">They have travelled</span> to Japan twice and <span class="grammar-highlight">are planning</span> to go again next year. (Past travels ‚Üí present plans)</li>
          </ol>
        </div>
        
        <div class="note">
          <p><strong>Native speaker note:</strong> Native speakers often use the present perfect to justify or explain present situations, as in "I can't come tonight. I've caught a cold." The present perfect explains the present inability.</p>
        </div>
      </section>

      <!-- GRAMMAR POINT SECTION 2 -->
      <section class="grammar-point">
        <h2>Past Perfect to Show Earlier Past Events</h2>
        
        <p><strong>Form</strong>: Past Perfect (had + past participle) with Past Simple</p>
        
        <p><strong>When to use it</strong>: Use the past perfect to show that one past event happened before another past event. This creates a sequence in the past timeline.</p>
        
        <div class="example">
          <ol>
            <li>By the time I <span class="grammar-highlight">arrived</span> at the office, the meeting <span class="grammar-highlight">had already started</span>. (Past Perfect for earlier event)</li>
            <li>She <span class="grammar-highlight">explained</span> that she <span class="grammar-highlight">had studied</span> the topic extensively during university. (Past Perfect for background)</li>
            <li>The restaurant <span class="grammar-highlight">was</span> empty because everyone <span class="grammar-highlight">had left</span> early due to the storm. (Past Perfect explaining a past situation)</li>
          </ol>
        </div>
        
        <div class="note">
          <p><strong>Native speaker note:</strong> In conversational English, native speakers sometimes use past simple instead of past perfect when the sequence of events is clear from context: "I missed the train. I woke up late." However, in formal writing or when clarity is important, the past perfect is preferred.</p>
        </div>
      </section>

      <!-- GRAMMAR POINT SECTION 3 -->
      <section class="grammar-point">
        <h2>Future Perfect to Connect Present and Future</h2>
        
        <p><strong>Form</strong>: Future Perfect (will have + past participle)</p>
        
        <p><strong>When to use it</strong>: Use the future perfect to show that an action will be completed before a specific time in the future. This tense connects the present to a future completion point.</p>
        
        <div class="example">
          <ol>
            <li>By next month, we <span class="grammar-highlight">will have completed</span> the first phase of the project. (Present action ‚Üí future completion)</li>
            <li>She <span class="grammar-highlight">will have finished</span> her degree by the time she <span class="grammar-highlight">turns</span> 25. (Future completion before another future event)</li>
            <li>The construction team <span class="grammar-highlight">will have built</span> 50 homes by the end of the year. (Present to future measurement)</li>
          </ol>
        </div>
        
        <div class="note">
          <p><strong>Native speaker note:</strong> In everyday conversation, native speakers often use "by + time" with present perfect or present tense instead of future perfect: "By next week, I've finished all my exams" or "By December, I'm completely done with this project."</p>
        </div>
      </section>

      <!-- GRAMMAR POINT SECTION 4 -->
      <section class="grammar-point">
        <h2>Conditional Perfect for Hypothetical Past Situations</h2>
        
        <p><strong>Form</strong>: would have / could have / might have + past participle</p>
        
        <p><strong>When to use it</strong>: Use conditional perfect to talk about hypothetical situations in the past or to express regrets, missed opportunities, or different possible outcomes.</p>
        
        <div class="example">
          <ol>
            <li>If I <span class="grammar-highlight">had known</span> about the meeting, I <span class="grammar-highlight">would have prepared</span> a presentation. (Unreal past condition ‚Üí hypothetical past result)</li>
            <li>She <span class="grammar-highlight">could have won</span> the competition if she <span class="grammar-highlight">had trained</span> harder. (Past possibility that didn't happen)</li>
            <li>We <span class="grammar-highlight">might have visited</span> Paris last year if the flights <span class="grammar-highlight">hadn't been</span> so expensive. (Missed opportunity in the past)</li>
          </ol>
        </div>
        
        <div class="note">
          <p><strong>Native speaker note:</strong> Native speakers often use conditional perfect structures to express criticism or regret: "You should have told me earlier!" or "I could have helped you if you'd asked."</p>
        </div>
      </section>

      <!-- GRAMMAR POINT SECTION 5 -->
      <section class="grammar-point">
        <h2>Perfect Continuous Forms Across Time Frames</h2>
        
        <p><strong>Form</strong>: have/has/had/will have + been + present participle (-ing)</p>
        
        <p><strong>When to use it</strong>: Use perfect continuous forms to emphasize the ongoing nature of an action across different time frames, often showing duration, cause and effect, or actions that continue from one time frame into another.</p>
        
        <div class="example">
          <ol>
            <li>I <span class="grammar-highlight">have been working</span> on this report all week, and I <span class="grammar-highlight">will finish</span> it tomorrow. (Past to present ongoing action ‚Üí future completion)</li>
            <li>By the time we <span class="grammar-highlight">met</span>, she <span class="grammar-highlight">had been living</span> in London for ten years. (Past continuous action before another past event)</li>
            <li>Next month, she <span class="grammar-highlight">will have been teaching</span> for twenty years. (Present to future measurement of ongoing action)</li>
          </ol>
        </div>
        
        <div class="note">
          <p><strong>Native speaker note:</strong> Perfect continuous forms often emphasize the impact or result of an ongoing action: "Sorry I'm late. I've been waiting for the bus for ages!" puts more emphasis on the experience and its effects than "I've waited for the bus for ages."</p>
        </div>
      </section>

      <!-- VISUAL COMPARISON TABLE -->
      <section id="summary">
        <h2>Summary: Mixed Time Frames with Perfect Tenses</h2>
        <table>
          <thead>
            <tr>
              <th>Perfect Tense</th>
              <th>Time Connection</th>
              <th>Function</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Present Perfect</td>
              <td>Past ‚Üí Present</td>
              <td>Show how past events affect present</td>
              <td><span class="example">I have finished my work, so I can help you now.</span></td>
            </tr>
            <tr>
              <td>Past Perfect</td>
              <td>Earlier Past ‚Üí Later Past</td>
              <td>Show sequence of past events</td>
              <td><span class="example">She had already left when I called.</span></td>
            </tr>
            <tr>
              <td>Future Perfect</td>
              <td>Present ‚Üí Future</td>
              <td>Show future completion point</td>
              <td><span class="example">By next year, I will have graduated.</span></td>
            </tr>
            <tr>
              <td>Conditional Perfect</td>
              <td>Hypothetical Past ‚Üí Result</td>
              <td>Express unrealized possibilities</td>
              <td><span class="example">I would have gone if I had known.</span></td>
            </tr>
            <tr>
              <td>Perfect Continuous</td>
              <td>Across multiple time frames</td>
              <td>Show ongoing nature and duration</td>
              <td><span class="example">I have been studying English for five years.</span></td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- COMMON ERRORS SECTION -->
      <section class="common-errors">
        <h2 class="common-errors-heading">Common Errors</h2>
        
        <div class="error-pattern">
          <p class="error-title"><strong>1: Mixing present perfect and past simple incorrectly</strong></p>
          <p class="incorrect">I have seen that movie last week.</p><br>
          <p class="correct">I saw that movie last week. ‚úì</p>
          <p class="explanation"><em>Don't use present perfect with specific past time expressions (last week, yesterday, in 2010). Use past simple instead.</em></p>
        </div>
        
        <div class="error-pattern">
          <p class="error-title"><strong>2: Incorrect sequence with past perfect</strong></p>
          <p class="incorrect">When I had arrived at the station, the train left.</p><br>
          <p class="correct">When I arrived at the station, the train had already left. ‚úì</p>
          <p class="explanation"><em>Past perfect is used for the earlier action, not the later one. The train leaving happened before your arrival.</em></p>
        </div>
        
        <div class="error-pattern">
          <p class="error-title"><strong>3: Incorrect form in conditional perfect</strong></p>
          <p class="incorrect">If I would have known, I would have told you.</p><br>
          <p class="correct">If I had known, I would have told you. ‚úì</p>
          <p class="explanation"><em>In the "if" clause of third conditional sentences, use past perfect (had + past participle), not "would have."</em></p>
        </div>
      </section>

      <!-- TIPS SECTION -->
      <section class="tips">
        <h2 class="tips-heading">Useful Tips</h2>
        
        <div class="grammar-tip">
          <p>üìù <strong>TIP 1:</strong> Think of perfect tenses as bridges between time frames.<br>
            <li>The present perfect bridges <u>past and present</u>,</li><br>
            <li>the past perfect connects <u>two points in the past</u>,</li><br>
            <li>and the future perfect links <u>present to future.</u></li></p>
        </div>
        
        <div class="grammar-tip">
          <p>üìù <strong>TIP 2:</strong> Time expressions are helpful clues: "since," "for," and "already" often signal present perfect; "by the time," "before," and "after" often signal past perfect; "by + future time" often signals future perfect.</p>
        </div>
        
        <div class="grammar-tip">
          <p>üìù <strong>TIP 3:</strong> Practice creating "timeline sentences" daily. Take a routine activity (making coffee) and build sentences connecting it to different timeframes: "By the time my alarm rang, I had already made coffee" or "I will have finished my coffee before the meeting starts."</p>
        </div>
      </section>

      <!-- MCQ PRACTICE SECTION -->
      <section class="content-section mcq-container">
        <h2>Test Your Knowledge</h2>
        <p>Choose the correct option for each question to test your understanding of Mixed Time Frames with Perfect Tenses.</p>
        
        <div id="mcq" class="activity-container active">
          <!-- Question 1 (easy) -->
          <div class="question" id="q1">
            <p class="mcq-question">1. By the time we reached the cinema, the film ______.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. has already started</span>
              </div>
              <div class="option" data-index="1">
                <span>B. had already started</span>
              </div>
              <div class="option" data-index="2">
                <span>C. was already starting</span>
              </div>
              <div class="option" data-index="3">
                <span>D. already started</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 2 -->
          <div class="question" id="q2">
            <p class="mcq-question">2. This time next year, I ______ this course.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. will have completed</span>
              </div>
              <div class="option" data-index="1">
                <span>B. have completed</span>
              </div>
              <div class="option" data-index="2">
                <span>C. had completed</span>
              </div>
              <div class="option" data-index="3">
                <span>D. will complete</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 3 -->
          <div class="question" id="q3">
            <p class="mcq-question">3. I ______ for three hours, so I'm exhausted now.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. had been studying</span>
              </div>
              <div class="option" data-index="1">
                <span>B. have studied</span>
              </div>
              <div class="option" data-index="2">
                <span>C. have been studying</span>
              </div>
              <div class="option" data-index="3">
                <span>D. was studying</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 4 -->
          <div class="question" id="q4">
            <p class="mcq-question">4. If I ______ about your problem, I ______ you.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. would know / would have helped</span>
              </div>
              <div class="option" data-index="1">
                <span>B. had known / would have helped</span>
              </div>
              <div class="option" data-index="2">
                <span>C. would have known / would have helped</span>
              </div>
              <div class="option" data-index="3">
                <span>D. knew / would help</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 5 -->
          <div class="question" id="q5">
            <p class="mcq-question">5. She told me she ______ in Paris for five years before moving to London.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. lived</span>
              </div>
              <div class="option" data-index="1">
                <span>B. has lived</span>
              </div>
              <div class="option" data-index="2">
                <span>C. had lived</span>
              </div>
              <div class="option" data-index="3">
                <span>D. was living</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 6 -->
          <div class="question" id="q6">
            <p class="mcq-question">6. By the end of next month, we ______ in this apartment for ten years.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. will live</span>
              </div>
              <div class="option" data-index="1">
                <span>B. would have lived</span>
              </div>
              <div class="option" data-index="2">
                <span>C. will have lived</span>
              </div>
              <div class="option" data-index="3">
                <span>D. will have been lived</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 7 -->
          <div class="question" id="q7">
            <p class="mcq-question">7. After she ______ her presentation, everyone applauded enthusiastically.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. has finished</span>
              </div>
              <div class="option" data-index="1">
                <span>B. had finished</span>
              </div>
              <div class="option" data-index="2">
                <span>C. would finish</span>
              </div>
              <div class="option" data-index="3">
                <span>D. will have finished</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 8 -->
          <div class="question" id="q8">
            <p class="mcq-question">8. She's very tired because she ______ all night.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. has been working</span>
              </div>
              <div class="option" data-index="1">
                <span>B. had worked</span>
              </div>
              <div class="option" data-index="2">
                <span>C. had been working</span>
              </div>
              <div class="option" data-index="3">
                <span>D. was working</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 9 -->
          <div class="question" id="q9">
            <p class="mcq-question">9. I ______ English since I was ten years old, and I ______ it when I retire.</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. have been studying / will still study</span>
              </div>
              <div class="option" data-index="1">
                <span>B. had studied / will still be studying</span>
              </div>
              <div class="option" data-index="2">
                <span>C. have studied / will still be studying</span>
              </div>
              <div class="option" data-index="3">
                <span>D. studied / will still have studied</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <!-- Question 10 -->
          <div class="question" id="q10">
            <p class="mcq-question">10. Which sentence correctly mixes time frames with perfect tenses?</p>
            <div class="options">
              <div class="option" data-index="0">
                <span>A. I will go to the party if I will have finished my work.</span>
              </div>
              <div class="option" data-index="1">
                <span>B. By the time she arrives, I will have cleaned the house.</span>
              </div>
              <div class="option" data-index="2">
                <span>C. I have seen that film yesterday and I really enjoyed it.</span>
              </div>
              <div class="option" data-index="3">
                <span>D. If I would have known earlier, I would have told you.</span>
              </div>
            </div>
            <div class="feedback"></div>
          </div>
          
          <div class="control-buttons">
            <button id="mcq-submit" class="submit-btn">Check Answers</button>
            <a href="#summary" class="nav-button">Review Grammar</a>
            <button id="mcq-restart" class="restart-btn" style="display:none;">Try Again</button>
          </div>
          
          <div class="score-display" id="mcq-score" style="display:none;">
            Your score: <span class="score-value">0</span>/10
          </div>
        </div>
      </section>
    </main>
  </div>
  
  <!-- BOTTOM NAVIGATION -->
  <nav class="bottom-navigation">
    <a href="future-perfect-continuous.html" class="nav-button previous">‚Üê Previous: Future Perfect vs. Future Perfect Continuous</a>
    <div class="center-buttons">
      <button class="nav-button print-button" onclick="window.print()">Print This Page</button>
      <a href="mixed-time-frames-practice.html" class="nav-button activities">Practice Activities</a>
    </div>
    <a href="advanced-present-perfect.html" class="nav-button next">Next: Advanced Uses of Present Perfect ‚Üí</a>
  </nav>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="../../home.html">Home</a></li>
          <li><a href="../../home.html#where-to-start">Grammar</a></li>
          <li><a href="../../extra-practice.html">Extra Practice</a></li>
          <li><a href="../../my-progress.html">My Progress</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Grammar Topics</h3>
        <ul>
          <li><a href="advanced-grammar.html#advanced-tenses-and-aspect">Advanced Tenses</a></li>
          <li><a href="advanced-grammar.html#conditionals">Advanced Conditionals</a></li>
          <li><a href="advanced-grammar.html#modals">Advanced Modal Verbs</a></li>
          <li><a href="advanced-grammar.html#passive">Advanced Passive Voice</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h3>Connect</h3>
        <ul>
          <li><a href="../../about.html">About</a></li>
          <li><a href="../../contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>¬© 2025 English in Doses | All rights reserved | <a href="../../license.html">Licensing Information</a></p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="../../js/core.js"></script>
  <script src="../../js/mcq.js"></script>
  <script src="../../js/progress-tracking.js"></script>
  
  <!-- MCQ JavaScript -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize MCQ Module
      MCQModule.init({
        containerId: 'mcq',
        answers: {
          'q1': 1,  // B. had already started
          'q2': 0,  // A. will have completed
          'q3': 2,  // C. have been studying
          'q4': 1,  // B. had known / would have helped
          'q5': 2,  // C. had lived
          'q6': 2,  // C. will have lived
          'q7': 1,  // B. had finished
          'q8': 0,  // A. has been working
          'q9': 0,  // A. have been studying / will still study
          'q10': 1  // B. By the time she arrives, I will have cleaned the house.
        },
        correctExplanations: {
          'q1': "We need the past perfect 'had already started' to show that the film started before we reached the cinema - connecting two past events.",
          'q2': "The future perfect 'will have completed' correctly shows that the completion will happen at some point between now and this time next year.",
          'q3': "Present perfect continuous 'have been studying' correctly shows an action that started in the past, continued until the present, and has a present result (exhaustion).",
          'q4': "For third conditional (past unreal situation), we need 'had known' in the if-clause and 'would have helped' in the main clause.",
          'q5': "Past perfect 'had lived' correctly shows that she lived in Paris before moving to London - an earlier past action before another past action.",
          'q6': "The future perfect 'will have lived' correctly shows the duration of living that will be completed by a specific future time.",
          'q7': "Past perfect 'had finished' correctly shows that the presentation was completed before people applauded.",
          'q8': "Present perfect continuous 'has been working' connects the past activity (working all night) with the present result (tiredness).",
          'q9': "Present perfect continuous 'have been studying' for an action from past to present, and future simple 'will still study' for the future continuation.",
          'q10': "This sentence correctly uses future perfect 'will have cleaned' to show that the cleaning will be completed before she arrives."
        },
        incorrectExplanations: {
          'q1': "We need past perfect here because we're talking about two past events where one happened before the other.",
          'q2': "We need future perfect to talk about something that will be completed by a specific time in the future.",
          'q3': "We need present perfect continuous to emphasize the duration of an activity that connects past to present.",
          'q4': "Third conditional requires past perfect in the if-clause and would have + past participle in the result clause.",
          'q5': "When reporting something that happened before another past event, we need past perfect.",
          'q6': "When talking about a duration that will be complete by a future time, we need future perfect.",
          'q7': "When one past action happens before another past action, we use past perfect for the earlier action.",
          'q8': "To connect a past continuous activity with a present result, we need present perfect continuous.",
          'q9': "For an action that began in the past and continues to the present with future implications, we need present perfect continuous.",
          'q10': "When mixing time frames, make sure you're using the correct tense for each part of the time relationship."
        },
        showAllQuestionsAtOnce: true, // Show all questions at once
        onComplete: function(score, total) {
          console.log(`MCQ completed with score: ${score}/${total}`);
          
          // Track this activity completion in the progress system
          if (typeof ProgressTracker !== "undefined") {
            // Mark the MCQ as completed in the 'activities' category
            ProgressTracker.markItemCompleted('activities', 'mcq-mixed-time-frames', {
              score: score,
              maxScore: total,
              completed: true,
              completedAt: new Date().toISOString(),
              title: "Mixed Time Frames with Perfect Tenses Quick Practice"
            });
            
            // Also mark the lesson itself as viewed/completed
            ProgressTracker.updateItemProgress('lessons', 'mixed-time-frames', {
              lastViewed: new Date().toISOString(),
              progress: 100, // Percent complete
              title: "Mixed Time Frames with Perfect Tenses"
            });
          }
        }
      });
    });
    </script>
</body>
</html>